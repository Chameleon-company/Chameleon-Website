{"ast":null,"code":"import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\n\nvar getObservationIndex = function (observationTargets, target) {\n  for (var i = 0; i < observationTargets.length; i += 1) {\n    if (observationTargets[i].target === target) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar ResizeObserverController = function () {\n  function ResizeObserverController() {}\n\n  ResizeObserverController.connect = function (resizeObserver, callback) {\n    var detail = new ResizeObserverDetail(resizeObserver, callback);\n    observerMap.set(resizeObserver, detail);\n  };\n\n  ResizeObserverController.observe = function (resizeObserver, target, options) {\n    var detail = observerMap.get(resizeObserver);\n    var firstObservation = detail.observationTargets.length === 0;\n\n    if (getObservationIndex(detail.observationTargets, target) < 0) {\n      firstObservation && resizeObservers.push(detail);\n      detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n      updateCount(1);\n      scheduler.schedule();\n    }\n  };\n\n  ResizeObserverController.unobserve = function (resizeObserver, target) {\n    var detail = observerMap.get(resizeObserver);\n    var index = getObservationIndex(detail.observationTargets, target);\n    var lastObservation = detail.observationTargets.length === 1;\n\n    if (index >= 0) {\n      lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n      detail.observationTargets.splice(index, 1);\n      updateCount(-1);\n    }\n  };\n\n  ResizeObserverController.disconnect = function (resizeObserver) {\n    var _this = this;\n\n    var detail = observerMap.get(resizeObserver);\n    detail.observationTargets.slice().forEach(function (ot) {\n      return _this.unobserve(resizeObserver, ot.target);\n    });\n    detail.activeTargets.splice(0, detail.activeTargets.length);\n  };\n\n  return ResizeObserverController;\n}();\n\nexport { ResizeObserverController };","map":{"version":3,"names":["scheduler","updateCount","ResizeObservation","ResizeObserverDetail","resizeObservers","observerMap","WeakMap","getObservationIndex","observationTargets","target","i","length","ResizeObserverController","connect","resizeObserver","callback","detail","set","observe","options","get","firstObservation","push","box","schedule","unobserve","index","lastObservation","splice","indexOf","disconnect","_this","slice","forEach","ot","activeTargets"],"sources":["C:/Users/jaink/OneDrive/Desktop/New folder (4)/chameleon-website/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js"],"sourcesContent":["import { scheduler, updateCount } from './utils/scheduler';\r\nimport { ResizeObservation } from './ResizeObservation';\r\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\r\nimport { resizeObservers } from './utils/resizeObservers';\r\nvar observerMap = new WeakMap();\r\nvar getObservationIndex = function (observationTargets, target) {\r\n    for (var i = 0; i < observationTargets.length; i += 1) {\r\n        if (observationTargets[i].target === target) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n};\r\nvar ResizeObserverController = (function () {\r\n    function ResizeObserverController() {\r\n    }\r\n    ResizeObserverController.connect = function (resizeObserver, callback) {\r\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\r\n        observerMap.set(resizeObserver, detail);\r\n    };\r\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\r\n        var detail = observerMap.get(resizeObserver);\r\n        var firstObservation = detail.observationTargets.length === 0;\r\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\r\n            firstObservation && resizeObservers.push(detail);\r\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\r\n            updateCount(1);\r\n            scheduler.schedule();\r\n        }\r\n    };\r\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\r\n        var detail = observerMap.get(resizeObserver);\r\n        var index = getObservationIndex(detail.observationTargets, target);\r\n        var lastObservation = detail.observationTargets.length === 1;\r\n        if (index >= 0) {\r\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\r\n            detail.observationTargets.splice(index, 1);\r\n            updateCount(-1);\r\n        }\r\n    };\r\n    ResizeObserverController.disconnect = function (resizeObserver) {\r\n        var _this = this;\r\n        var detail = observerMap.get(resizeObserver);\r\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\r\n        detail.activeTargets.splice(0, detail.activeTargets.length);\r\n    };\r\n    return ResizeObserverController;\r\n}());\r\nexport { ResizeObserverController };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}