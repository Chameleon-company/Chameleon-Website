{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { MixedType } from './MixedType';\nimport { createValidator, createValidatorAsync, checkRequired, isEmpty } from './utils';\nexport var ObjectType = /*#__PURE__*/function (_MixedType) {\n  _inheritsLoose(ObjectType, _MixedType);\n\n  function ObjectType(errorMessage) {\n    var _this;\n\n    _this = _MixedType.call(this, 'object') || this;\n    _this.objectTypeSchemaSpec = void 0;\n\n    _MixedType.prototype.pushRule.call(_assertThisInitialized(_this), {\n      onValid: function onValid(v) {\n        return typeof v === 'object';\n      },\n      errorMessage: errorMessage || _this.locale.type\n    });\n\n    return _this;\n  }\n\n  var _proto = ObjectType.prototype;\n\n  _proto.check = function check(value, data, fieldName) {\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    var check = function check(value, data, type) {\n      if (type.required && !checkRequired(value, type.trim, type.emptyAllowed)) {\n        return {\n          hasError: true,\n          errorMessage: type.requiredMessage\n        };\n      }\n\n      if (type.objectTypeSchemaSpec && typeof value === 'object') {\n        var checkResultObject = {};\n        var hasError = false;\n        Object.entries(type.objectTypeSchemaSpec).forEach(function (_ref) {\n          var k = _ref[0],\n              v = _ref[1];\n          var checkResult = check(value[k], value, v);\n\n          if (checkResult !== null && checkResult !== void 0 && checkResult.hasError) {\n            hasError = true;\n          }\n\n          checkResultObject[k] = checkResult;\n        });\n        return {\n          hasError: hasError,\n          object: checkResultObject\n        };\n      }\n\n      var validator = createValidator(data, fieldName);\n      var checkStatus = validator(value, type.priorityRules);\n\n      if (checkStatus) {\n        return checkStatus;\n      }\n\n      if (!type.required && isEmpty(value)) {\n        return {\n          hasError: false\n        };\n      }\n\n      return validator(value, type.rules) || {\n        hasError: false\n      };\n    };\n\n    return check(value, data, this);\n  };\n\n  _proto.checkAsync = function checkAsync(value, data, fieldName) {\n    var _this2 = this;\n\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    var check = function check(value, data, type) {\n      if (type.required && !checkRequired(value, type.trim, type.emptyAllowed)) {\n        return Promise.resolve({\n          hasError: true,\n          errorMessage: _this2.requiredMessage\n        });\n      }\n\n      var validator = createValidatorAsync(data, fieldName);\n      return new Promise(function (resolve) {\n        if (type.objectTypeSchemaSpec && typeof value === 'object') {\n          var checkResult = {};\n          var checkAll = [];\n          var keys = [];\n          Object.entries(type.objectTypeSchemaSpec).forEach(function (_ref2) {\n            var k = _ref2[0],\n                v = _ref2[1];\n            checkAll.push(check(value[k], value, v));\n            keys.push(k);\n          });\n          return Promise.all(checkAll).then(function (values) {\n            values.forEach(function (v, index) {\n              checkResult[keys[index]] = v;\n            });\n            resolve({\n              object: checkResult\n            });\n          });\n        }\n\n        return validator(value, type.priorityRules).then(function (checkStatus) {\n          if (checkStatus) {\n            resolve(checkStatus);\n          }\n        }).then(function () {\n          if (!type.required && isEmpty(value)) {\n            resolve({\n              hasError: false\n            });\n          }\n        }).then(function () {\n          return validator(value, type.rules);\n        }).then(function (checkStatus) {\n          if (checkStatus) {\n            resolve(checkStatus);\n          }\n\n          resolve({\n            hasError: false\n          });\n        });\n      });\n    };\n\n    return check(value, data, this);\n  }\n  /**\n   * @example\n   * ObjectType().shape({\n   *  name: StringType(),\n   *  age: NumberType()\n   * })\n   */\n  ;\n\n  _proto.shape = function shape(fields) {\n    this.objectTypeSchemaSpec = fields;\n    return this;\n  };\n\n  return ObjectType;\n}(MixedType);\nexport default function getObjectType(errorMessage) {\n  return new ObjectType(errorMessage);\n}","map":{"version":3,"names":["_assertThisInitialized","_inheritsLoose","MixedType","createValidator","createValidatorAsync","checkRequired","isEmpty","ObjectType","_MixedType","errorMessage","_this","call","objectTypeSchemaSpec","prototype","pushRule","onValid","v","locale","type","_proto","check","value","data","fieldName","required","trim","emptyAllowed","hasError","requiredMessage","checkResultObject","Object","entries","forEach","_ref","k","checkResult","object","validator","checkStatus","priorityRules","rules","checkAsync","_this2","Promise","resolve","checkAll","keys","_ref2","push","all","then","values","index","shape","fields","getObjectType"],"sources":["C:/Users/jaink/OneDrive/Desktop/New folder (4)/chameleon-website/node_modules/schema-typed/es/ObjectType.js"],"sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { MixedType } from './MixedType';\nimport { createValidator, createValidatorAsync, checkRequired, isEmpty } from './utils';\nexport var ObjectType = /*#__PURE__*/function (_MixedType) {\n  _inheritsLoose(ObjectType, _MixedType);\n\n  function ObjectType(errorMessage) {\n    var _this;\n\n    _this = _MixedType.call(this, 'object') || this;\n    _this.objectTypeSchemaSpec = void 0;\n\n    _MixedType.prototype.pushRule.call(_assertThisInitialized(_this), {\n      onValid: function onValid(v) {\n        return typeof v === 'object';\n      },\n      errorMessage: errorMessage || _this.locale.type\n    });\n\n    return _this;\n  }\n\n  var _proto = ObjectType.prototype;\n\n  _proto.check = function check(value, data, fieldName) {\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    var check = function check(value, data, type) {\n      if (type.required && !checkRequired(value, type.trim, type.emptyAllowed)) {\n        return {\n          hasError: true,\n          errorMessage: type.requiredMessage\n        };\n      }\n\n      if (type.objectTypeSchemaSpec && typeof value === 'object') {\n        var checkResultObject = {};\n        var hasError = false;\n        Object.entries(type.objectTypeSchemaSpec).forEach(function (_ref) {\n          var k = _ref[0],\n              v = _ref[1];\n          var checkResult = check(value[k], value, v);\n\n          if (checkResult !== null && checkResult !== void 0 && checkResult.hasError) {\n            hasError = true;\n          }\n\n          checkResultObject[k] = checkResult;\n        });\n        return {\n          hasError: hasError,\n          object: checkResultObject\n        };\n      }\n\n      var validator = createValidator(data, fieldName);\n      var checkStatus = validator(value, type.priorityRules);\n\n      if (checkStatus) {\n        return checkStatus;\n      }\n\n      if (!type.required && isEmpty(value)) {\n        return {\n          hasError: false\n        };\n      }\n\n      return validator(value, type.rules) || {\n        hasError: false\n      };\n    };\n\n    return check(value, data, this);\n  };\n\n  _proto.checkAsync = function checkAsync(value, data, fieldName) {\n    var _this2 = this;\n\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    var check = function check(value, data, type) {\n      if (type.required && !checkRequired(value, type.trim, type.emptyAllowed)) {\n        return Promise.resolve({\n          hasError: true,\n          errorMessage: _this2.requiredMessage\n        });\n      }\n\n      var validator = createValidatorAsync(data, fieldName);\n      return new Promise(function (resolve) {\n        if (type.objectTypeSchemaSpec && typeof value === 'object') {\n          var checkResult = {};\n          var checkAll = [];\n          var keys = [];\n          Object.entries(type.objectTypeSchemaSpec).forEach(function (_ref2) {\n            var k = _ref2[0],\n                v = _ref2[1];\n            checkAll.push(check(value[k], value, v));\n            keys.push(k);\n          });\n          return Promise.all(checkAll).then(function (values) {\n            values.forEach(function (v, index) {\n              checkResult[keys[index]] = v;\n            });\n            resolve({\n              object: checkResult\n            });\n          });\n        }\n\n        return validator(value, type.priorityRules).then(function (checkStatus) {\n          if (checkStatus) {\n            resolve(checkStatus);\n          }\n        }).then(function () {\n          if (!type.required && isEmpty(value)) {\n            resolve({\n              hasError: false\n            });\n          }\n        }).then(function () {\n          return validator(value, type.rules);\n        }).then(function (checkStatus) {\n          if (checkStatus) {\n            resolve(checkStatus);\n          }\n\n          resolve({\n            hasError: false\n          });\n        });\n      });\n    };\n\n    return check(value, data, this);\n  }\n  /**\n   * @example\n   * ObjectType().shape({\n   *  name: StringType(),\n   *  age: NumberType()\n   * })\n   */\n  ;\n\n  _proto.shape = function shape(fields) {\n    this.objectTypeSchemaSpec = fields;\n    return this;\n  };\n\n  return ObjectType;\n}(MixedType);\nexport default function getObjectType(errorMessage) {\n  return new ObjectType(errorMessage);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}