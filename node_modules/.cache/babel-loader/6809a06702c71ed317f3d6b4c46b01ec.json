{"ast":null,"code":"import { SchemaModel } from 'schema-typed';\nimport { useRef, useCallback } from 'react';\n\nfunction useSchemaModel(formModel) {\n  var subRulesRef = useRef([]);\n  var pushFieldRule = useCallback(function (name, fieldRule) {\n    subRulesRef.current.push({\n      name: name,\n      fieldRule: fieldRule\n    });\n  }, []);\n  var removeFieldRule = useCallback(function (name) {\n    var index = subRulesRef.current.findIndex(function (v) {\n      return v.name === name;\n    });\n    subRulesRef.current.splice(index, 1);\n  }, []);\n  var getCombinedModel = useCallback(function () {\n    var realSubRules = subRulesRef.current.filter(function (v) {\n      return Boolean(v.fieldRule.current);\n    });\n    return SchemaModel.combine(formModel, SchemaModel(realSubRules.map(function (_ref) {\n      var _ref2;\n\n      var name = _ref.name,\n          fieldRule = _ref.fieldRule;\n      return _ref2 = {}, _ref2[name] = fieldRule.current, _ref2;\n    }).reduce(function (a, b) {\n      return Object.assign(a, b);\n    }, {})));\n  }, [formModel]);\n  return {\n    getCombinedModel: getCombinedModel,\n    pushFieldRule: pushFieldRule,\n    removeFieldRule: removeFieldRule\n  };\n}\n\nexport default useSchemaModel;","map":{"version":3,"names":["SchemaModel","useRef","useCallback","useSchemaModel","formModel","subRulesRef","pushFieldRule","name","fieldRule","current","push","removeFieldRule","index","findIndex","v","splice","getCombinedModel","realSubRules","filter","Boolean","combine","map","_ref","_ref2","reduce","a","b","Object","assign"],"sources":["C:/Users/jaink/OneDrive/Desktop/New folder (4)/chameleon-website/node_modules/rsuite/esm/Form/useSchemaModel.js"],"sourcesContent":["import { SchemaModel } from 'schema-typed';\r\nimport { useRef, useCallback } from 'react';\r\n\r\nfunction useSchemaModel(formModel) {\r\n  var subRulesRef = useRef([]);\r\n  var pushFieldRule = useCallback(function (name, fieldRule) {\r\n    subRulesRef.current.push({\r\n      name: name,\r\n      fieldRule: fieldRule\r\n    });\r\n  }, []);\r\n  var removeFieldRule = useCallback(function (name) {\r\n    var index = subRulesRef.current.findIndex(function (v) {\r\n      return v.name === name;\r\n    });\r\n    subRulesRef.current.splice(index, 1);\r\n  }, []);\r\n  var getCombinedModel = useCallback(function () {\r\n    var realSubRules = subRulesRef.current.filter(function (v) {\r\n      return Boolean(v.fieldRule.current);\r\n    });\r\n    return SchemaModel.combine(formModel, SchemaModel(realSubRules.map(function (_ref) {\r\n      var _ref2;\r\n\r\n      var name = _ref.name,\r\n          fieldRule = _ref.fieldRule;\r\n      return _ref2 = {}, _ref2[name] = fieldRule.current, _ref2;\r\n    }).reduce(function (a, b) {\r\n      return Object.assign(a, b);\r\n    }, {})));\r\n  }, [formModel]);\r\n  return {\r\n    getCombinedModel: getCombinedModel,\r\n    pushFieldRule: pushFieldRule,\r\n    removeFieldRule: removeFieldRule\r\n  };\r\n}\r\n\r\nexport default useSchemaModel;"],"mappings":"AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,SAASC,MAAT,EAAiBC,WAAjB,QAAoC,OAApC;;AAEA,SAASC,cAAT,CAAwBC,SAAxB,EAAmC;EACjC,IAAIC,WAAW,GAAGJ,MAAM,CAAC,EAAD,CAAxB;EACA,IAAIK,aAAa,GAAGJ,WAAW,CAAC,UAAUK,IAAV,EAAgBC,SAAhB,EAA2B;IACzDH,WAAW,CAACI,OAAZ,CAAoBC,IAApB,CAAyB;MACvBH,IAAI,EAAEA,IADiB;MAEvBC,SAAS,EAAEA;IAFY,CAAzB;EAID,CAL8B,EAK5B,EAL4B,CAA/B;EAMA,IAAIG,eAAe,GAAGT,WAAW,CAAC,UAAUK,IAAV,EAAgB;IAChD,IAAIK,KAAK,GAAGP,WAAW,CAACI,OAAZ,CAAoBI,SAApB,CAA8B,UAAUC,CAAV,EAAa;MACrD,OAAOA,CAAC,CAACP,IAAF,KAAWA,IAAlB;IACD,CAFW,CAAZ;IAGAF,WAAW,CAACI,OAAZ,CAAoBM,MAApB,CAA2BH,KAA3B,EAAkC,CAAlC;EACD,CALgC,EAK9B,EAL8B,CAAjC;EAMA,IAAII,gBAAgB,GAAGd,WAAW,CAAC,YAAY;IAC7C,IAAIe,YAAY,GAAGZ,WAAW,CAACI,OAAZ,CAAoBS,MAApB,CAA2B,UAAUJ,CAAV,EAAa;MACzD,OAAOK,OAAO,CAACL,CAAC,CAACN,SAAF,CAAYC,OAAb,CAAd;IACD,CAFkB,CAAnB;IAGA,OAAOT,WAAW,CAACoB,OAAZ,CAAoBhB,SAApB,EAA+BJ,WAAW,CAACiB,YAAY,CAACI,GAAb,CAAiB,UAAUC,IAAV,EAAgB;MACjF,IAAIC,KAAJ;;MAEA,IAAIhB,IAAI,GAAGe,IAAI,CAACf,IAAhB;MAAA,IACIC,SAAS,GAAGc,IAAI,CAACd,SADrB;MAEA,OAAOe,KAAK,GAAG,EAAR,EAAYA,KAAK,CAAChB,IAAD,CAAL,GAAcC,SAAS,CAACC,OAApC,EAA6Cc,KAApD;IACD,CANiD,EAM/CC,MAN+C,CAMxC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;MACxB,OAAOC,MAAM,CAACC,MAAP,CAAcH,CAAd,EAAiBC,CAAjB,CAAP;IACD,CARiD,EAQ/C,EAR+C,CAAD,CAA1C,CAAP;EASD,CAbiC,EAa/B,CAACtB,SAAD,CAb+B,CAAlC;EAcA,OAAO;IACLY,gBAAgB,EAAEA,gBADb;IAELV,aAAa,EAAEA,aAFV;IAGLK,eAAe,EAAEA;EAHZ,CAAP;AAKD;;AAED,eAAeR,cAAf"},"metadata":{},"sourceType":"module"}