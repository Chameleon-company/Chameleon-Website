{"ast":null,"code":"// Headless ARIA `menubar`\nimport React, { useCallback, useRef } from 'react';\nimport isNil from 'lodash/isNil';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport { isFocusEntering, isFocusLeaving } from '../utils/events';\nimport useMenu from './useMenu';\nimport { isFocusableElement } from '../utils/dom';\n/**\n * @private\n */\n\nexport default function Menubar(_ref) {\n  var _items$activeItemInde3;\n\n  var _ref$vertical = _ref.vertical,\n      vertical = _ref$vertical === void 0 ? false : _ref$vertical,\n      children = _ref.children,\n      onActivateItem = _ref.onActivateItem;\n  var menubar = useMenu({\n    role: 'menubar'\n  });\n  var _menubar$ = menubar[0],\n      items = _menubar$.items,\n      activeItemIndex = _menubar$.activeItemIndex,\n      dispatch = menubar[1];\n  var menubarElementRef = useRef(null);\n  var onFocus = useCallback(function (event) {\n    // Focus moves inside Menubar\n    if (isFocusEntering(event) && // Skip if focus is moving to a focusable element within this menu\n    !(event.target !== event.currentTarget && isFocusableElement(event.target))) {\n      if (activeItemIndex === null) {\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n      }\n    }\n  }, [activeItemIndex, dispatch]);\n  var onBlur = useCallback(function (event) {\n    // Focus moves outside of Menubar\n    if (isFocusLeaving(event)) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.None\n      });\n    }\n  }, [dispatch]);\n\n  var _useCustom = useCustom('Menubar'),\n      rtl = _useCustom.rtl;\n\n  var onKeyDown = useCallback(function (event) {\n    var _items$activeItemInde, _items$activeItemInde2;\n\n    var activeItemElement = isNil(activeItemIndex) ? null : (_items$activeItemInde = (_items$activeItemInde2 = items[activeItemIndex]) === null || _items$activeItemInde2 === void 0 ? void 0 : _items$activeItemInde2.element) !== null && _items$activeItemInde !== void 0 ? _items$activeItemInde : null;\n\n    switch (true) {\n      case !vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case !vertical && rtl && event.key === KEY_VALUES.LEFT:\n      case vertical && event.key === KEY_VALUES.DOWN:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n\n      case !vertical && !rtl && event.key === KEY_VALUES.LEFT:\n      case !vertical && rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && event.key === KEY_VALUES.UP:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n\n      case event.key === KEY_VALUES.HOME:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n\n      case event.key === KEY_VALUES.END:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n\n      case !vertical && event.key === KEY_VALUES.DOWN:\n      case vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && rtl && event.key === KEY_VALUES.LEFT:\n        if ((activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.getAttribute('aria-haspopup')) === 'menu') {\n          event.preventDefault();\n          event.stopPropagation();\n          activeItemElement.click();\n        }\n\n        break;\n\n      case event.key === KEY_VALUES.ENTER:\n      case event.key === KEY_VALUES.SPACE:\n        event.preventDefault();\n        event.stopPropagation();\n        activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.click();\n        break;\n    }\n  }, [rtl, items, activeItemIndex, dispatch, vertical]); // Only used for handling click events bubbling from children\n  // Which indicates that a child menuitem is being activated\n\n  var onClick = useCallback(function (event) {\n    if (items.some(function (item) {\n      return item.element === event.target;\n    })) {\n      onActivateItem === null || onActivateItem === void 0 ? void 0 : onActivateItem(event);\n    }\n  }, [items, onActivateItem]);\n  return /*#__PURE__*/React.createElement(MenuContext.Provider, {\n    value: menubar\n  }, children({\n    role: 'menubar',\n    tabIndex: 0,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onClick: onClick,\n    'aria-activedescendant': isNil(activeItemIndex) ? undefined : (_items$activeItemInde3 = items[activeItemIndex]) === null || _items$activeItemInde3 === void 0 ? void 0 : _items$activeItemInde3.element.id,\n    'aria-orientation': vertical ? 'vertical' : undefined // implicitly set 'horizontal'\n\n  }, menubarElementRef));\n}","map":{"version":3,"names":["React","useCallback","useRef","isNil","MenuContext","MenuActionTypes","MoveFocusTo","KEY_VALUES","useCustom","isFocusEntering","isFocusLeaving","useMenu","isFocusableElement","Menubar","_ref","_items$activeItemInde3","_ref$vertical","vertical","children","onActivateItem","menubar","role","_menubar$","items","activeItemIndex","dispatch","menubarElementRef","onFocus","event","target","currentTarget","type","MoveFocus","to","First","onBlur","None","_useCustom","rtl","onKeyDown","_items$activeItemInde","_items$activeItemInde2","activeItemElement","element","key","RIGHT","LEFT","DOWN","preventDefault","stopPropagation","Next","UP","Prev","HOME","END","Last","getAttribute","click","ENTER","SPACE","onClick","some","item","createElement","Provider","value","tabIndex","undefined","id"],"sources":["C:/Users/61420/Desktop/chameleon-website/node_modules/rsuite/esm/Menu/Menubar.js"],"sourcesContent":["// Headless ARIA `menubar`\nimport React, { useCallback, useRef } from 'react';\nimport isNil from 'lodash/isNil';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport { isFocusEntering, isFocusLeaving } from '../utils/events';\nimport useMenu from './useMenu';\nimport { isFocusableElement } from '../utils/dom';\n\n/**\n * @private\n */\nexport default function Menubar(_ref) {\n  var _items$activeItemInde3;\n\n  var _ref$vertical = _ref.vertical,\n      vertical = _ref$vertical === void 0 ? false : _ref$vertical,\n      children = _ref.children,\n      onActivateItem = _ref.onActivateItem;\n  var menubar = useMenu({\n    role: 'menubar'\n  });\n  var _menubar$ = menubar[0],\n      items = _menubar$.items,\n      activeItemIndex = _menubar$.activeItemIndex,\n      dispatch = menubar[1];\n  var menubarElementRef = useRef(null);\n  var onFocus = useCallback(function (event) {\n    // Focus moves inside Menubar\n    if (isFocusEntering(event) && // Skip if focus is moving to a focusable element within this menu\n    !(event.target !== event.currentTarget && isFocusableElement(event.target))) {\n      if (activeItemIndex === null) {\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n      }\n    }\n  }, [activeItemIndex, dispatch]);\n  var onBlur = useCallback(function (event) {\n    // Focus moves outside of Menubar\n    if (isFocusLeaving(event)) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.None\n      });\n    }\n  }, [dispatch]);\n\n  var _useCustom = useCustom('Menubar'),\n      rtl = _useCustom.rtl;\n\n  var onKeyDown = useCallback(function (event) {\n    var _items$activeItemInde, _items$activeItemInde2;\n\n    var activeItemElement = isNil(activeItemIndex) ? null : (_items$activeItemInde = (_items$activeItemInde2 = items[activeItemIndex]) === null || _items$activeItemInde2 === void 0 ? void 0 : _items$activeItemInde2.element) !== null && _items$activeItemInde !== void 0 ? _items$activeItemInde : null;\n\n    switch (true) {\n      case !vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case !vertical && rtl && event.key === KEY_VALUES.LEFT:\n      case vertical && event.key === KEY_VALUES.DOWN:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n\n      case !vertical && !rtl && event.key === KEY_VALUES.LEFT:\n      case !vertical && rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && event.key === KEY_VALUES.UP:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n\n      case event.key === KEY_VALUES.HOME:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n\n      case event.key === KEY_VALUES.END:\n        event.preventDefault();\n        event.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n\n      case !vertical && event.key === KEY_VALUES.DOWN:\n      case vertical && !rtl && event.key === KEY_VALUES.RIGHT:\n      case vertical && rtl && event.key === KEY_VALUES.LEFT:\n        if ((activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.getAttribute('aria-haspopup')) === 'menu') {\n          event.preventDefault();\n          event.stopPropagation();\n          activeItemElement.click();\n        }\n\n        break;\n\n      case event.key === KEY_VALUES.ENTER:\n      case event.key === KEY_VALUES.SPACE:\n        event.preventDefault();\n        event.stopPropagation();\n        activeItemElement === null || activeItemElement === void 0 ? void 0 : activeItemElement.click();\n        break;\n    }\n  }, [rtl, items, activeItemIndex, dispatch, vertical]); // Only used for handling click events bubbling from children\n  // Which indicates that a child menuitem is being activated\n\n  var onClick = useCallback(function (event) {\n    if (items.some(function (item) {\n      return item.element === event.target;\n    })) {\n      onActivateItem === null || onActivateItem === void 0 ? void 0 : onActivateItem(event);\n    }\n  }, [items, onActivateItem]);\n  return /*#__PURE__*/React.createElement(MenuContext.Provider, {\n    value: menubar\n  }, children({\n    role: 'menubar',\n    tabIndex: 0,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onClick: onClick,\n    'aria-activedescendant': isNil(activeItemIndex) ? undefined : (_items$activeItemInde3 = items[activeItemIndex]) === null || _items$activeItemInde3 === void 0 ? void 0 : _items$activeItemInde3.element.id,\n    'aria-orientation': vertical ? 'vertical' : undefined // implicitly set 'horizontal'\n\n  }, menubarElementRef));\n}"],"mappings":"AAAA;AACA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,MAA7B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,WAAP,IAAsBC,eAAtB,EAAuCC,WAAvC,QAA0D,eAA1D;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,UAAtC;AACA,SAASC,eAAT,EAA0BC,cAA1B,QAAgD,iBAAhD;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,kBAAT,QAAmC,cAAnC;AAEA;AACA;AACA;;AACA,eAAe,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;EACpC,IAAIC,sBAAJ;;EAEA,IAAIC,aAAa,GAAGF,IAAI,CAACG,QAAzB;EAAA,IACIA,QAAQ,GAAGD,aAAa,KAAK,KAAK,CAAvB,GAA2B,KAA3B,GAAmCA,aADlD;EAAA,IAEIE,QAAQ,GAAGJ,IAAI,CAACI,QAFpB;EAAA,IAGIC,cAAc,GAAGL,IAAI,CAACK,cAH1B;EAIA,IAAIC,OAAO,GAAGT,OAAO,CAAC;IACpBU,IAAI,EAAE;EADc,CAAD,CAArB;EAGA,IAAIC,SAAS,GAAGF,OAAO,CAAC,CAAD,CAAvB;EAAA,IACIG,KAAK,GAAGD,SAAS,CAACC,KADtB;EAAA,IAEIC,eAAe,GAAGF,SAAS,CAACE,eAFhC;EAAA,IAGIC,QAAQ,GAAGL,OAAO,CAAC,CAAD,CAHtB;EAIA,IAAIM,iBAAiB,GAAGxB,MAAM,CAAC,IAAD,CAA9B;EACA,IAAIyB,OAAO,GAAG1B,WAAW,CAAC,UAAU2B,KAAV,EAAiB;IACzC;IACA,IAAInB,eAAe,CAACmB,KAAD,CAAf,IAA0B;IAC9B,EAAEA,KAAK,CAACC,MAAN,KAAiBD,KAAK,CAACE,aAAvB,IAAwClB,kBAAkB,CAACgB,KAAK,CAACC,MAAP,CAA5D,CADA,EAC6E;MAC3E,IAAIL,eAAe,KAAK,IAAxB,EAA8B;QAC5BC,QAAQ,CAAC;UACPM,IAAI,EAAE1B,eAAe,CAAC2B,SADf;UAEPC,EAAE,EAAE3B,WAAW,CAAC4B;QAFT,CAAD,CAAR;MAID;IACF;EACF,CAXwB,EAWtB,CAACV,eAAD,EAAkBC,QAAlB,CAXsB,CAAzB;EAYA,IAAIU,MAAM,GAAGlC,WAAW,CAAC,UAAU2B,KAAV,EAAiB;IACxC;IACA,IAAIlB,cAAc,CAACkB,KAAD,CAAlB,EAA2B;MACzBH,QAAQ,CAAC;QACPM,IAAI,EAAE1B,eAAe,CAAC2B,SADf;QAEPC,EAAE,EAAE3B,WAAW,CAAC8B;MAFT,CAAD,CAAR;IAID;EACF,CARuB,EAQrB,CAACX,QAAD,CARqB,CAAxB;;EAUA,IAAIY,UAAU,GAAG7B,SAAS,CAAC,SAAD,CAA1B;EAAA,IACI8B,GAAG,GAAGD,UAAU,CAACC,GADrB;;EAGA,IAAIC,SAAS,GAAGtC,WAAW,CAAC,UAAU2B,KAAV,EAAiB;IAC3C,IAAIY,qBAAJ,EAA2BC,sBAA3B;;IAEA,IAAIC,iBAAiB,GAAGvC,KAAK,CAACqB,eAAD,CAAL,GAAyB,IAAzB,GAAgC,CAACgB,qBAAqB,GAAG,CAACC,sBAAsB,GAAGlB,KAAK,CAACC,eAAD,CAA/B,MAAsD,IAAtD,IAA8DiB,sBAAsB,KAAK,KAAK,CAA9F,GAAkG,KAAK,CAAvG,GAA2GA,sBAAsB,CAACE,OAA3J,MAAwK,IAAxK,IAAgLH,qBAAqB,KAAK,KAAK,CAA/M,GAAmNA,qBAAnN,GAA2O,IAAnS;;IAEA,QAAQ,IAAR;MACE,KAAK,CAACvB,QAAD,IAAa,CAACqB,GAAd,IAAqBV,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACsC,KAAnD;MACA,KAAK,CAAC5B,QAAD,IAAaqB,GAAb,IAAoBV,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACuC,IAAlD;MACA,KAAK7B,QAAQ,IAAIW,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACwC,IAA1C;QACEnB,KAAK,CAACoB,cAAN;QACApB,KAAK,CAACqB,eAAN;QACAxB,QAAQ,CAAC;UACPM,IAAI,EAAE1B,eAAe,CAAC2B,SADf;UAEPC,EAAE,EAAE3B,WAAW,CAAC4C;QAFT,CAAD,CAAR;QAIA;;MAEF,KAAK,CAACjC,QAAD,IAAa,CAACqB,GAAd,IAAqBV,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACuC,IAAnD;MACA,KAAK,CAAC7B,QAAD,IAAaqB,GAAb,IAAoBV,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACsC,KAAlD;MACA,KAAK5B,QAAQ,IAAIW,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAAC4C,EAA1C;QACEvB,KAAK,CAACoB,cAAN;QACApB,KAAK,CAACqB,eAAN;QACAxB,QAAQ,CAAC;UACPM,IAAI,EAAE1B,eAAe,CAAC2B,SADf;UAEPC,EAAE,EAAE3B,WAAW,CAAC8C;QAFT,CAAD,CAAR;QAIA;;MAEF,KAAKxB,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAAC8C,IAA9B;QACEzB,KAAK,CAACoB,cAAN;QACApB,KAAK,CAACqB,eAAN;QACAxB,QAAQ,CAAC;UACPM,IAAI,EAAE1B,eAAe,CAAC2B,SADf;UAEPC,EAAE,EAAE3B,WAAW,CAAC4B;QAFT,CAAD,CAAR;QAIA;;MAEF,KAAKN,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAAC+C,GAA9B;QACE1B,KAAK,CAACoB,cAAN;QACApB,KAAK,CAACqB,eAAN;QACAxB,QAAQ,CAAC;UACPM,IAAI,EAAE1B,eAAe,CAAC2B,SADf;UAEPC,EAAE,EAAE3B,WAAW,CAACiD;QAFT,CAAD,CAAR;QAIA;;MAEF,KAAK,CAACtC,QAAD,IAAaW,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACwC,IAA3C;MACA,KAAK9B,QAAQ,IAAI,CAACqB,GAAb,IAAoBV,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACsC,KAAlD;MACA,KAAK5B,QAAQ,IAAIqB,GAAZ,IAAmBV,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACuC,IAAjD;QACE,IAAI,CAACJ,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,iBAAiB,CAACc,YAAlB,CAA+B,eAA/B,CAAvE,MAA4H,MAAhI,EAAwI;UACtI5B,KAAK,CAACoB,cAAN;UACApB,KAAK,CAACqB,eAAN;UACAP,iBAAiB,CAACe,KAAlB;QACD;;QAED;;MAEF,KAAK7B,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACmD,KAA9B;MACA,KAAK9B,KAAK,CAACgB,GAAN,KAAcrC,UAAU,CAACoD,KAA9B;QACE/B,KAAK,CAACoB,cAAN;QACApB,KAAK,CAACqB,eAAN;QACAP,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,iBAAiB,CAACe,KAAlB,EAAtE;QACA;IAzDJ;EA2DD,CAhE0B,EAgExB,CAACnB,GAAD,EAAMf,KAAN,EAAaC,eAAb,EAA8BC,QAA9B,EAAwCR,QAAxC,CAhEwB,CAA3B,CAxCoC,CAwGmB;EACvD;;EAEA,IAAI2C,OAAO,GAAG3D,WAAW,CAAC,UAAU2B,KAAV,EAAiB;IACzC,IAAIL,KAAK,CAACsC,IAAN,CAAW,UAAUC,IAAV,EAAgB;MAC7B,OAAOA,IAAI,CAACnB,OAAL,KAAiBf,KAAK,CAACC,MAA9B;IACD,CAFG,CAAJ,EAEI;MACFV,cAAc,KAAK,IAAnB,IAA2BA,cAAc,KAAK,KAAK,CAAnD,GAAuD,KAAK,CAA5D,GAAgEA,cAAc,CAACS,KAAD,CAA9E;IACD;EACF,CANwB,EAMtB,CAACL,KAAD,EAAQJ,cAAR,CANsB,CAAzB;EAOA,OAAO,aAAanB,KAAK,CAAC+D,aAAN,CAAoB3D,WAAW,CAAC4D,QAAhC,EAA0C;IAC5DC,KAAK,EAAE7C;EADqD,CAA1C,EAEjBF,QAAQ,CAAC;IACVG,IAAI,EAAE,SADI;IAEV6C,QAAQ,EAAE,CAFA;IAGVvC,OAAO,EAAEA,OAHC;IAIVQ,MAAM,EAAEA,MAJE;IAKVI,SAAS,EAAEA,SALD;IAMVqB,OAAO,EAAEA,OANC;IAOV,yBAAyBzD,KAAK,CAACqB,eAAD,CAAL,GAAyB2C,SAAzB,GAAqC,CAACpD,sBAAsB,GAAGQ,KAAK,CAACC,eAAD,CAA/B,MAAsD,IAAtD,IAA8DT,sBAAsB,KAAK,KAAK,CAA9F,GAAkG,KAAK,CAAvG,GAA2GA,sBAAsB,CAAC4B,OAAvB,CAA+ByB,EAP9L;IAQV,oBAAoBnD,QAAQ,GAAG,UAAH,GAAgBkD,SARlC,CAQ4C;;EAR5C,CAAD,EAURzC,iBAVQ,CAFS,CAApB;AAaD"},"metadata":{},"sourceType":"module"}