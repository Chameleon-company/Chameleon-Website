{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useContext, useRef, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport isNil from 'lodash/isNil';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport useUniqueId from '../utils/useUniqueId';\nimport useMenu from './useMenu';\nimport useFocus from '../utils/useFocus';\nimport useClickOutside from '../utils/useClickOutside';\nimport { isFocusLeaving } from '../utils/events';\nimport { isFocusableElement } from '../utils/dom';\nvar defaultOpenMenuOn = ['click'];\n/**\n * Headless ARIA `menu`\n * @private\n */\n\nfunction Menu(_ref) {\n  var _items$activeItemInde;\n\n  var disabled = _ref.disabled,\n      children = _ref.children,\n      _ref$openMenuOn = _ref.openMenuOn,\n      openMenuOn = _ref$openMenuOn === void 0 ? defaultOpenMenuOn : _ref$openMenuOn,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      openProp = _ref.open,\n      menuButtonText = _ref.menuButtonText,\n      renderMenuButton = _ref.renderMenuButton,\n      renderMenuPopup = _ref.renderMenuPopup,\n      onToggleMenu = _ref.onToggleMenu;\n  var buttonElementRef = useRef(null);\n  var menuElementRef = useRef(null);\n  var parentMenu = useContext(MenuContext);\n  var isSubmenu = !!parentMenu;\n  var menu = useMenu({\n    open: defaultOpen\n  });\n  var _menu$ = menu[0],\n      openState = _menu$.open,\n      items = _menu$.items,\n      activeItemIndex = _menu$.activeItemIndex,\n      dispatch = menu[1];\n  var openControlled = typeof openProp !== 'undefined';\n  var open = openControlled ? openProp : openState;\n\n  var _useCustom = useCustom('Menu'),\n      rtl = _useCustom.rtl;\n\n  var activeItem = isNil(activeItemIndex) ? null : (_items$activeItemInde = items[activeItemIndex]) === null || _items$activeItemInde === void 0 ? void 0 : _items$activeItemInde.element;\n\n  var _useFocus = useFocus(menuElementRef),\n      grabFocus = _useFocus.grab;\n\n  var openMenu = useCallback(function (event) {\n    dispatch({\n      type: MenuActionTypes.OpenMenu\n    });\n\n    if (!event.isTrusted) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.First\n      });\n    }\n\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(true, event);\n    grabFocus();\n  }, [dispatch, onToggleMenu, grabFocus]);\n  var closeMenu = useCallback(function (event, returnFocusToButton) {\n    if (returnFocusToButton === void 0) {\n      returnFocusToButton = true;\n    }\n\n    dispatch({\n      type: MenuActionTypes.CloseMenu\n    });\n    dispatch({\n      type: MenuActionTypes.MoveFocus,\n      to: MoveFocusTo.None\n    });\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(false, event);\n\n    if (returnFocusToButton) {\n      var _buttonElementRef$cur;\n\n      (_buttonElementRef$cur = buttonElementRef.current) === null || _buttonElementRef$cur === void 0 ? void 0 : _buttonElementRef$cur.focus({\n        preventScroll: true\n      });\n    }\n  }, [dispatch, onToggleMenu, buttonElementRef]);\n  var toggleMenu = useCallback(function (event) {\n    if (!open) {\n      openMenu(event);\n    } else {\n      closeMenu(event);\n    }\n  }, [open, openMenu, closeMenu]);\n  useClickOutside({\n    enabled: open,\n    isOutside: function isOutside(event) {\n      var _buttonElementRef$cur2, _menuElementRef$curre;\n\n      return !((_buttonElementRef$cur2 = buttonElementRef.current) !== null && _buttonElementRef$cur2 !== void 0 && _buttonElementRef$cur2.contains(event.target)) && !((_menuElementRef$curre = menuElementRef.current) !== null && _menuElementRef$curre !== void 0 && _menuElementRef$curre.contains(event.target));\n    },\n    // fixme if clicking on a focusable element, don't move focus to menu button\n    handle: function handle(event) {\n      return closeMenu(event, !isFocusableElement(event.target));\n    }\n  });\n  /**\n   * Keyboard interaction on menu button\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-13\n   */\n\n  var handleButtonKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Open the menu\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n          dispatch({\n            type: MenuActionTypes.MoveFocus,\n            to: MoveFocusTo.First\n          });\n        } else {\n          closeMenu(e);\n        }\n\n        break;\n      // Open the menu (if closed) and move focus to first item\n      // This is mostly useful after opening the menu with click\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n        }\n\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n    }\n  }, [open, openMenu, closeMenu, dispatch]);\n  var handleButtonClick = useCallback(function (event) {\n    if (disabled) {\n      return;\n    }\n\n    toggleMenu(event);\n  }, [disabled, toggleMenu]);\n  var handleButtonContextMenu = useCallback(function (event) {\n    // prevents default contextmenu\n    event.preventDefault(); // Only opens menu on right click. Left click can close the menu opened by a right click\n\n    if (open) return;\n    if (disabled) return;\n    openMenu(event);\n  }, [open, disabled, openMenu]);\n  var buttonEventHandlers = useMemo(function () {\n    var buttonEventHandlers = {\n      onKeyDown: handleButtonKeydown\n    };\n    /**\n     * Bind event of trigger,\n     * not used in  in the expanded state of '<Sidenav>'\n     */\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('click')) {\n      buttonEventHandlers.onClick = handleButtonClick;\n    }\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('contextmenu')) {\n      buttonEventHandlers.onContextMenu = handleButtonContextMenu;\n    }\n\n    return buttonEventHandlers;\n  }, [openMenuOn, handleButtonKeydown, handleButtonClick, handleButtonContextMenu]);\n  var buttonId = useUniqueId('menubutton-');\n  var menuId = useUniqueId('menu-');\n  var buttonAriaAttributes = useMemo(function () {\n    // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-14\n    return {\n      role: 'button',\n      'aria-haspopup': 'menu',\n      'aria-expanded': open || undefined,\n      // it's recommend to remove aria-expanded when menu is hidden\n      'aria-controls': menuId\n    };\n  }, [open, menuId]);\n  var buttonProps = useMemo(function () {\n    return _extends({\n      id: buttonId\n    }, buttonAriaAttributes, buttonEventHandlers, {\n      // render props\n      open: open\n    });\n  }, [buttonId, buttonAriaAttributes, buttonEventHandlers, open]);\n  var customMenuButton = useMemo(function () {\n    return renderMenuButton === null || renderMenuButton === void 0 ? void 0 : renderMenuButton(buttonProps, buttonElementRef);\n  }, [renderMenuButton, buttonProps, buttonElementRef]);\n  var buttonElement = customMenuButton !== null && customMenuButton !== void 0 ? customMenuButton : /*#__PURE__*/React.createElement(\"button\", _extends({\n    ref: buttonElementRef\n  }, buttonProps), menuButtonText);\n  /**\n   * Keyboard interaction on menu\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-12\n   */\n\n  var handleMenuKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Move focus to previous item\n      case KEY_VALUES.UP:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n      // Move focus to next item\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n      // When focus is in a menu and on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n\n      case KEY_VALUES.RIGHT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n            activeItem.click();\n          }\n        } else if (isSubmenu) {\n          dispatch({\n            type: MenuActionTypes.CloseMenu\n          });\n        }\n\n        break;\n      // When focus is in a submenu of an item in a menu, closes the submenu and returns focus to the parent menuitem.\n\n      case KEY_VALUES.LEFT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if (isSubmenu) {\n            closeMenu(e);\n          }\n        } else if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n          activeItem.click();\n        }\n\n        break;\n      // Move focus to the first item\n\n      case KEY_VALUES.HOME:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n      // Move focus to the last item\n\n      case KEY_VALUES.END:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n      // - When focus is on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n      // - Otherwise, activates the item and closes the menu.\n\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        if (activeItem) {\n          e.preventDefault();\n          e.stopPropagation();\n          activeItem.click();\n\n          if (!activeItem.getAttribute('aria-haspopup')) {\n            closeMenu(e);\n          }\n        }\n\n        break;\n      //  Close the menu that contains focus and return focus to the element or context,\n      //  e.g., menu button or parent menuitem, from which the menu was opened.\n\n      case KEY_VALUES.ESC:\n        closeMenu(e);\n        break;\n    }\n  }, [dispatch, activeItem, isSubmenu, rtl, closeMenu]); // Only used for clicks bubbling from child `menuitem`s.\n\n  var handleMenuClick = useCallback(function (event) {\n    var target = event.target; // Only handle clicks on `menuitem`s\n\n    if (target.getAttribute('role') !== 'menuitem') return; // Ignore clicks on `menuitem`s that controls a submenu\n\n    if (target.getAttribute('aria-haspopup') === 'menu') return; // Ignore disabled `menuitem`s\n\n    if (target.getAttribute('aria-disabled') === 'true') return;\n    closeMenu(event, !isSubmenu);\n  }, [closeMenu, isSubmenu]); // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-13\n\n  var menuAriaAttributes = {\n    role: 'menu',\n    'aria-labelledby': buttonId,\n    'aria-activedescendant': activeItem === null || activeItem === void 0 ? void 0 : activeItem.id\n  };\n  var menuEventHandlers = {\n    onClick: handleMenuClick,\n    onKeyDown: handleMenuKeydown\n  };\n\n  var menuProps = _extends({\n    id: menuId\n  }, menuAriaAttributes, menuEventHandlers, {\n    tabIndex: 0\n  });\n\n  var customMenuPopup = renderMenuPopup === null || renderMenuPopup === void 0 ? void 0 : renderMenuPopup(_extends({}, menuProps, {\n    open: open\n  }), menuElementRef); // fixme Wrong children here\n\n  var menuElement = customMenuPopup !== null && customMenuPopup !== void 0 ? customMenuPopup : /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: menuElementRef\n  }, menuProps, {\n    hidden: !open\n  }), children);\n  var handleMouseEnter = useCallback(function (e) {\n    if (!disabled) {\n      openMenu(e);\n    }\n  }, [disabled, openMenu]);\n  var handleMouseLeave = useCallback(function (e) {\n    if (!disabled) {\n      closeMenu(e);\n    }\n  }, [disabled, closeMenu]);\n  var rootElementRef = useRef(null);\n  var handleContainerBlur = useCallback(function (event) {\n    if (isFocusLeaving(event)) {\n      closeMenu(event, false);\n    }\n  }, [closeMenu]);\n  var rootEventHandlers = {\n    onBlur: handleContainerBlur\n  };\n\n  if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('mouseover')) {\n    rootEventHandlers.onMouseEnter = handleMouseEnter;\n    rootEventHandlers.onMouseLeave = handleMouseLeave;\n  }\n\n  var rootProps = _extends({}, rootEventHandlers, {\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, buttonElement, /*#__PURE__*/React.createElement(MenuContext.Provider, {\n      value: menu\n    }, menuElement)),\n    // render props\n    open: open\n  });\n\n  if (isSubmenu) {\n    rootProps.role = 'none presentation';\n  }\n\n  return children(rootProps, rootElementRef);\n}\n\nMenu.displayName = 'Menu';\nMenu.propTypes = {\n  children: PropTypes.func.isRequired\n};\nexport default Menu;","map":{"version":3,"names":["_extends","React","useCallback","useContext","useRef","useMemo","PropTypes","isNil","MenuContext","MenuActionTypes","MoveFocusTo","KEY_VALUES","useCustom","useUniqueId","useMenu","useFocus","useClickOutside","isFocusLeaving","isFocusableElement","defaultOpenMenuOn","Menu","_ref","_items$activeItemInde","disabled","children","_ref$openMenuOn","openMenuOn","_ref$defaultOpen","defaultOpen","openProp","open","menuButtonText","renderMenuButton","renderMenuPopup","onToggleMenu","buttonElementRef","menuElementRef","parentMenu","isSubmenu","menu","_menu$","openState","items","activeItemIndex","dispatch","openControlled","_useCustom","rtl","activeItem","element","_useFocus","grabFocus","grab","openMenu","event","type","OpenMenu","isTrusted","MoveFocus","to","First","closeMenu","returnFocusToButton","CloseMenu","None","_buttonElementRef$cur","current","focus","preventScroll","toggleMenu","enabled","isOutside","_buttonElementRef$cur2","_menuElementRef$curre","contains","target","handle","handleButtonKeydown","e","key","ENTER","SPACE","preventDefault","stopPropagation","DOWN","handleButtonClick","handleButtonContextMenu","buttonEventHandlers","onKeyDown","includes","onClick","onContextMenu","buttonId","menuId","buttonAriaAttributes","role","undefined","buttonProps","id","customMenuButton","buttonElement","createElement","ref","handleMenuKeydown","UP","Prev","Next","RIGHT","getAttribute","click","LEFT","HOME","END","Last","ESC","handleMenuClick","menuAriaAttributes","menuEventHandlers","menuProps","tabIndex","customMenuPopup","menuElement","hidden","handleMouseEnter","handleMouseLeave","rootElementRef","handleContainerBlur","rootEventHandlers","onBlur","onMouseEnter","onMouseLeave","rootProps","Fragment","Provider","value","displayName","propTypes","func","isRequired"],"sources":["C:/Users/61420/Desktop/chameleon-website/node_modules/rsuite/esm/Menu/Menu.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useContext, useRef, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport isNil from 'lodash/isNil';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport useUniqueId from '../utils/useUniqueId';\nimport useMenu from './useMenu';\nimport useFocus from '../utils/useFocus';\nimport useClickOutside from '../utils/useClickOutside';\nimport { isFocusLeaving } from '../utils/events';\nimport { isFocusableElement } from '../utils/dom';\nvar defaultOpenMenuOn = ['click'];\n/**\n * Headless ARIA `menu`\n * @private\n */\n\nfunction Menu(_ref) {\n  var _items$activeItemInde;\n\n  var disabled = _ref.disabled,\n      children = _ref.children,\n      _ref$openMenuOn = _ref.openMenuOn,\n      openMenuOn = _ref$openMenuOn === void 0 ? defaultOpenMenuOn : _ref$openMenuOn,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      openProp = _ref.open,\n      menuButtonText = _ref.menuButtonText,\n      renderMenuButton = _ref.renderMenuButton,\n      renderMenuPopup = _ref.renderMenuPopup,\n      onToggleMenu = _ref.onToggleMenu;\n  var buttonElementRef = useRef(null);\n  var menuElementRef = useRef(null);\n  var parentMenu = useContext(MenuContext);\n  var isSubmenu = !!parentMenu;\n  var menu = useMenu({\n    open: defaultOpen\n  });\n  var _menu$ = menu[0],\n      openState = _menu$.open,\n      items = _menu$.items,\n      activeItemIndex = _menu$.activeItemIndex,\n      dispatch = menu[1];\n  var openControlled = typeof openProp !== 'undefined';\n  var open = openControlled ? openProp : openState;\n\n  var _useCustom = useCustom('Menu'),\n      rtl = _useCustom.rtl;\n\n  var activeItem = isNil(activeItemIndex) ? null : (_items$activeItemInde = items[activeItemIndex]) === null || _items$activeItemInde === void 0 ? void 0 : _items$activeItemInde.element;\n\n  var _useFocus = useFocus(menuElementRef),\n      grabFocus = _useFocus.grab;\n\n  var openMenu = useCallback(function (event) {\n    dispatch({\n      type: MenuActionTypes.OpenMenu\n    });\n\n    if (!event.isTrusted) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.First\n      });\n    }\n\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(true, event);\n    grabFocus();\n  }, [dispatch, onToggleMenu, grabFocus]);\n  var closeMenu = useCallback(function (event, returnFocusToButton) {\n    if (returnFocusToButton === void 0) {\n      returnFocusToButton = true;\n    }\n\n    dispatch({\n      type: MenuActionTypes.CloseMenu\n    });\n    dispatch({\n      type: MenuActionTypes.MoveFocus,\n      to: MoveFocusTo.None\n    });\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(false, event);\n\n    if (returnFocusToButton) {\n      var _buttonElementRef$cur;\n\n      (_buttonElementRef$cur = buttonElementRef.current) === null || _buttonElementRef$cur === void 0 ? void 0 : _buttonElementRef$cur.focus({\n        preventScroll: true\n      });\n    }\n  }, [dispatch, onToggleMenu, buttonElementRef]);\n  var toggleMenu = useCallback(function (event) {\n    if (!open) {\n      openMenu(event);\n    } else {\n      closeMenu(event);\n    }\n  }, [open, openMenu, closeMenu]);\n  useClickOutside({\n    enabled: open,\n    isOutside: function isOutside(event) {\n      var _buttonElementRef$cur2, _menuElementRef$curre;\n\n      return !((_buttonElementRef$cur2 = buttonElementRef.current) !== null && _buttonElementRef$cur2 !== void 0 && _buttonElementRef$cur2.contains(event.target)) && !((_menuElementRef$curre = menuElementRef.current) !== null && _menuElementRef$curre !== void 0 && _menuElementRef$curre.contains(event.target));\n    },\n    // fixme if clicking on a focusable element, don't move focus to menu button\n    handle: function handle(event) {\n      return closeMenu(event, !isFocusableElement(event.target));\n    }\n  });\n  /**\n   * Keyboard interaction on menu button\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-13\n   */\n\n  var handleButtonKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Open the menu\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n          dispatch({\n            type: MenuActionTypes.MoveFocus,\n            to: MoveFocusTo.First\n          });\n        } else {\n          closeMenu(e);\n        }\n\n        break;\n      // Open the menu (if closed) and move focus to first item\n      // This is mostly useful after opening the menu with click\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n        }\n\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n    }\n  }, [open, openMenu, closeMenu, dispatch]);\n  var handleButtonClick = useCallback(function (event) {\n    if (disabled) {\n      return;\n    }\n\n    toggleMenu(event);\n  }, [disabled, toggleMenu]);\n  var handleButtonContextMenu = useCallback(function (event) {\n    // prevents default contextmenu\n    event.preventDefault(); // Only opens menu on right click. Left click can close the menu opened by a right click\n\n    if (open) return;\n    if (disabled) return;\n    openMenu(event);\n  }, [open, disabled, openMenu]);\n  var buttonEventHandlers = useMemo(function () {\n    var buttonEventHandlers = {\n      onKeyDown: handleButtonKeydown\n    };\n    /**\n     * Bind event of trigger,\n     * not used in  in the expanded state of '<Sidenav>'\n     */\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('click')) {\n      buttonEventHandlers.onClick = handleButtonClick;\n    }\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('contextmenu')) {\n      buttonEventHandlers.onContextMenu = handleButtonContextMenu;\n    }\n\n    return buttonEventHandlers;\n  }, [openMenuOn, handleButtonKeydown, handleButtonClick, handleButtonContextMenu]);\n  var buttonId = useUniqueId('menubutton-');\n  var menuId = useUniqueId('menu-');\n  var buttonAriaAttributes = useMemo(function () {\n    // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-14\n    return {\n      role: 'button',\n      'aria-haspopup': 'menu',\n      'aria-expanded': open || undefined,\n      // it's recommend to remove aria-expanded when menu is hidden\n      'aria-controls': menuId\n    };\n  }, [open, menuId]);\n  var buttonProps = useMemo(function () {\n    return _extends({\n      id: buttonId\n    }, buttonAriaAttributes, buttonEventHandlers, {\n      // render props\n      open: open\n    });\n  }, [buttonId, buttonAriaAttributes, buttonEventHandlers, open]);\n  var customMenuButton = useMemo(function () {\n    return renderMenuButton === null || renderMenuButton === void 0 ? void 0 : renderMenuButton(buttonProps, buttonElementRef);\n  }, [renderMenuButton, buttonProps, buttonElementRef]);\n  var buttonElement = customMenuButton !== null && customMenuButton !== void 0 ? customMenuButton : /*#__PURE__*/React.createElement(\"button\", _extends({\n    ref: buttonElementRef\n  }, buttonProps), menuButtonText);\n  /**\n   * Keyboard interaction on menu\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-12\n   */\n\n  var handleMenuKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Move focus to previous item\n      case KEY_VALUES.UP:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n      // Move focus to next item\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n      // When focus is in a menu and on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n\n      case KEY_VALUES.RIGHT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n            activeItem.click();\n          }\n        } else if (isSubmenu) {\n          dispatch({\n            type: MenuActionTypes.CloseMenu\n          });\n        }\n\n        break;\n      // When focus is in a submenu of an item in a menu, closes the submenu and returns focus to the parent menuitem.\n\n      case KEY_VALUES.LEFT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if (isSubmenu) {\n            closeMenu(e);\n          }\n        } else if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n          activeItem.click();\n        }\n\n        break;\n      // Move focus to the first item\n\n      case KEY_VALUES.HOME:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n      // Move focus to the last item\n\n      case KEY_VALUES.END:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n      // - When focus is on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n      // - Otherwise, activates the item and closes the menu.\n\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        if (activeItem) {\n          e.preventDefault();\n          e.stopPropagation();\n          activeItem.click();\n\n          if (!activeItem.getAttribute('aria-haspopup')) {\n            closeMenu(e);\n          }\n        }\n\n        break;\n      //  Close the menu that contains focus and return focus to the element or context,\n      //  e.g., menu button or parent menuitem, from which the menu was opened.\n\n      case KEY_VALUES.ESC:\n        closeMenu(e);\n        break;\n    }\n  }, [dispatch, activeItem, isSubmenu, rtl, closeMenu]); // Only used for clicks bubbling from child `menuitem`s.\n\n  var handleMenuClick = useCallback(function (event) {\n    var target = event.target; // Only handle clicks on `menuitem`s\n\n    if (target.getAttribute('role') !== 'menuitem') return; // Ignore clicks on `menuitem`s that controls a submenu\n\n    if (target.getAttribute('aria-haspopup') === 'menu') return; // Ignore disabled `menuitem`s\n\n    if (target.getAttribute('aria-disabled') === 'true') return;\n    closeMenu(event, !isSubmenu);\n  }, [closeMenu, isSubmenu]); // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-13\n\n  var menuAriaAttributes = {\n    role: 'menu',\n    'aria-labelledby': buttonId,\n    'aria-activedescendant': activeItem === null || activeItem === void 0 ? void 0 : activeItem.id\n  };\n  var menuEventHandlers = {\n    onClick: handleMenuClick,\n    onKeyDown: handleMenuKeydown\n  };\n\n  var menuProps = _extends({\n    id: menuId\n  }, menuAriaAttributes, menuEventHandlers, {\n    tabIndex: 0\n  });\n\n  var customMenuPopup = renderMenuPopup === null || renderMenuPopup === void 0 ? void 0 : renderMenuPopup(_extends({}, menuProps, {\n    open: open\n  }), menuElementRef); // fixme Wrong children here\n\n  var menuElement = customMenuPopup !== null && customMenuPopup !== void 0 ? customMenuPopup : /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: menuElementRef\n  }, menuProps, {\n    hidden: !open\n  }), children);\n  var handleMouseEnter = useCallback(function (e) {\n    if (!disabled) {\n      openMenu(e);\n    }\n  }, [disabled, openMenu]);\n  var handleMouseLeave = useCallback(function (e) {\n    if (!disabled) {\n      closeMenu(e);\n    }\n  }, [disabled, closeMenu]);\n  var rootElementRef = useRef(null);\n  var handleContainerBlur = useCallback(function (event) {\n    if (isFocusLeaving(event)) {\n      closeMenu(event, false);\n    }\n  }, [closeMenu]);\n  var rootEventHandlers = {\n    onBlur: handleContainerBlur\n  };\n\n  if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('mouseover')) {\n    rootEventHandlers.onMouseEnter = handleMouseEnter;\n    rootEventHandlers.onMouseLeave = handleMouseLeave;\n  }\n\n  var rootProps = _extends({}, rootEventHandlers, {\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, buttonElement, /*#__PURE__*/React.createElement(MenuContext.Provider, {\n      value: menu\n    }, menuElement)),\n    // render props\n    open: open\n  });\n\n  if (isSubmenu) {\n    rootProps.role = 'none presentation';\n  }\n\n  return children(rootProps, rootElementRef);\n}\n\nMenu.displayName = 'Menu';\nMenu.propTypes = {\n  children: PropTypes.func.isRequired\n};\nexport default Menu;"],"mappings":"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"},"metadata":{},"sourceType":"module"}