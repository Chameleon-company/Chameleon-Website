{"ast":null,"code":"function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function ajaxUpload(options) {\n  var name = options.name,\n      timeout = options.timeout,\n      _options$headers = options.headers,\n      headers = _options$headers === void 0 ? {} : _options$headers,\n      _options$data = options.data,\n      data = _options$data === void 0 ? {} : _options$data,\n      _options$method = options.method,\n      method = _options$method === void 0 ? 'POST' : _options$method,\n      onError = options.onError,\n      onSuccess = options.onSuccess,\n      onProgress = options.onProgress,\n      file = options.file,\n      url = options.url,\n      withCredentials = options.withCredentials,\n      disableMultipart = options.disableMultipart;\n  var xhr = new XMLHttpRequest();\n  var sendableData;\n  xhr.open(method, url, true);\n\n  if (!disableMultipart) {\n    sendableData = new FormData();\n    sendableData.append(name, file, file.name);\n\n    for (var key in data) {\n      sendableData.append(key, data[key]);\n    }\n  } else {\n    sendableData = file;\n  }\n\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (timeout) {\n    xhr.timeout = timeout;\n\n    xhr.ontimeout = function (event) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\n  };\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\n    };\n  }\n\n  xhr.onerror = function (event) {\n    onError === null || onError === void 0 ? void 0 : onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n\n  xhr.send(sendableData);\n  return {\n    xhr: xhr,\n    data: sendableData\n  };\n}","map":{"version":3,"names":["getResponse","xhr","text","responseText","response","JSON","parse","e","ajaxUpload","options","name","timeout","_options$headers","headers","_options$data","data","_options$method","method","onError","onSuccess","onProgress","file","url","withCredentials","disableMultipart","XMLHttpRequest","sendableData","open","FormData","append","key","Object","keys","forEach","setRequestHeader","ontimeout","event","type","onload","resp","status","upload","onprogress","percent","lengthComputable","loaded","total","onerror","send"],"sources":["C:/Users/jaink/OneDrive/Desktop/New folder (4)/chameleon-website/node_modules/rsuite/esm/utils/ajaxUpload.js"],"sourcesContent":["function getResponse(xhr) {\r\n  var text = xhr.responseText || xhr.response;\r\n\r\n  if (!text) {\r\n    return text;\r\n  }\r\n\r\n  try {\r\n    return JSON.parse(text);\r\n  } catch (e) {\r\n    return text;\r\n  }\r\n}\r\n\r\nexport default function ajaxUpload(options) {\r\n  var name = options.name,\r\n      timeout = options.timeout,\r\n      _options$headers = options.headers,\r\n      headers = _options$headers === void 0 ? {} : _options$headers,\r\n      _options$data = options.data,\r\n      data = _options$data === void 0 ? {} : _options$data,\r\n      _options$method = options.method,\r\n      method = _options$method === void 0 ? 'POST' : _options$method,\r\n      onError = options.onError,\r\n      onSuccess = options.onSuccess,\r\n      onProgress = options.onProgress,\r\n      file = options.file,\r\n      url = options.url,\r\n      withCredentials = options.withCredentials,\r\n      disableMultipart = options.disableMultipart;\r\n  var xhr = new XMLHttpRequest();\r\n  var sendableData;\r\n  xhr.open(method, url, true);\r\n\r\n  if (!disableMultipart) {\r\n    sendableData = new FormData();\r\n    sendableData.append(name, file, file.name);\r\n\r\n    for (var key in data) {\r\n      sendableData.append(key, data[key]);\r\n    }\r\n  } else {\r\n    sendableData = file;\r\n  }\r\n\r\n  Object.keys(headers).forEach(function (key) {\r\n    if (headers[key] !== null) {\r\n      xhr.setRequestHeader(key, headers[key]);\r\n    }\r\n  });\r\n\r\n  if (headers['X-Requested-With'] !== null) {\r\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n  }\r\n\r\n  if (timeout) {\r\n    xhr.timeout = timeout;\r\n\r\n    xhr.ontimeout = function (event) {\r\n      onError === null || onError === void 0 ? void 0 : onError({\r\n        type: 'timeout'\r\n      }, event, xhr);\r\n    };\r\n  }\r\n\r\n  if (withCredentials && 'withCredentials' in xhr) {\r\n    xhr.withCredentials = true;\r\n  }\r\n\r\n  xhr.onload = function (event) {\r\n    var resp = getResponse(xhr);\r\n\r\n    if (xhr.status < 200 || xhr.status >= 300) {\r\n      onError === null || onError === void 0 ? void 0 : onError({\r\n        type: 'server_error',\r\n        response: resp\r\n      }, event, xhr);\r\n      return;\r\n    }\r\n\r\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\r\n  };\r\n\r\n  if (xhr.upload) {\r\n    xhr.upload.onprogress = function (event) {\r\n      var percent = 0;\r\n\r\n      if (event.lengthComputable) {\r\n        percent = event.loaded / event.total * 100;\r\n      }\r\n\r\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\r\n    };\r\n  }\r\n\r\n  xhr.onerror = function (event) {\r\n    onError === null || onError === void 0 ? void 0 : onError({\r\n      type: 'xhr_error'\r\n    }, event, xhr);\r\n  };\r\n\r\n  xhr.send(sendableData);\r\n  return {\r\n    xhr: xhr,\r\n    data: sendableData\r\n  };\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}