{"ast":null,"code":"import { useEffect, useCallback } from 'react';\nimport contains from 'dom-lib/contains';\nimport ownerDocument from 'dom-lib/ownerDocument';\nimport on from 'dom-lib/on';\nimport { getDOMNode, KEY_VALUES } from './';\n\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event !== null && event !== void 0 && event.shiftKey);\n}\n/**\n * A hook that listens to the document click event and closes the overlay.\n * @param onRootClose\n * @param param1\n * @todo Allow different behaviors based on whether clicked element is focusable\n */\n\n\nfunction useRootClose(onRootClose, _ref) {\n  var disabled = _ref.disabled,\n      triggerTarget = _ref.triggerTarget,\n      overlayTarget = _ref.overlayTarget,\n      _ref$listenEscape = _ref.listenEscape,\n      listenEscape = _ref$listenEscape === void 0 ? true : _ref$listenEscape;\n  var handleDocumentKeyUp = useCallback(function (event) {\n    if (listenEscape && event.key === KEY_VALUES.ESC) {\n      onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n    }\n  }, [listenEscape, onRootClose]);\n  var handleDocumentMouseDown = useCallback(function (event) {\n    var triggerElement = getDOMNode(triggerTarget);\n    var overlayElement = getDOMNode(overlayTarget); // Check if the clicked element is a trigger.\n\n    if (triggerElement && contains(triggerElement, event.target)) {\n      return;\n    } // Check if the clicked element is a overlay.\n\n\n    if (overlayElement && contains(overlayElement, event.target)) {\n      return;\n    }\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n\n    onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n  }, [onRootClose, triggerTarget, overlayTarget]);\n  useEffect(function () {\n    var currentTarget = getDOMNode(triggerTarget);\n    if (disabled || !currentTarget) return;\n    var doc = ownerDocument(currentTarget);\n    var onDocumentMouseDownListener = on(doc, 'mousedown', handleDocumentMouseDown, true);\n    var onDocumentKeyupListener = on(doc, 'keyup', handleDocumentKeyUp);\n    return function () {\n      onDocumentMouseDownListener === null || onDocumentMouseDownListener === void 0 ? void 0 : onDocumentMouseDownListener.off();\n      onDocumentKeyupListener === null || onDocumentKeyupListener === void 0 ? void 0 : onDocumentKeyupListener.off();\n    };\n  }, [triggerTarget, disabled, onRootClose, handleDocumentMouseDown, handleDocumentKeyUp]);\n}\n\nexport default useRootClose;","map":{"version":3,"names":["useEffect","useCallback","contains","ownerDocument","on","getDOMNode","KEY_VALUES","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","useRootClose","onRootClose","_ref","disabled","triggerTarget","overlayTarget","_ref$listenEscape","listenEscape","handleDocumentKeyUp","key","ESC","handleDocumentMouseDown","triggerElement","overlayElement","target","currentTarget","doc","onDocumentMouseDownListener","onDocumentKeyupListener","off"],"sources":["C:/Users/61420/Desktop/chameleon-website/node_modules/rsuite/esm/utils/useRootClose.js"],"sourcesContent":["import { useEffect, useCallback } from 'react';\nimport contains from 'dom-lib/contains';\nimport ownerDocument from 'dom-lib/ownerDocument';\nimport on from 'dom-lib/on';\nimport { getDOMNode, KEY_VALUES } from './';\n\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event !== null && event !== void 0 && event.shiftKey);\n}\n\n/**\n * A hook that listens to the document click event and closes the overlay.\n * @param onRootClose\n * @param param1\n * @todo Allow different behaviors based on whether clicked element is focusable\n */\nfunction useRootClose(onRootClose, _ref) {\n  var disabled = _ref.disabled,\n      triggerTarget = _ref.triggerTarget,\n      overlayTarget = _ref.overlayTarget,\n      _ref$listenEscape = _ref.listenEscape,\n      listenEscape = _ref$listenEscape === void 0 ? true : _ref$listenEscape;\n  var handleDocumentKeyUp = useCallback(function (event) {\n    if (listenEscape && event.key === KEY_VALUES.ESC) {\n      onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n    }\n  }, [listenEscape, onRootClose]);\n  var handleDocumentMouseDown = useCallback(function (event) {\n    var triggerElement = getDOMNode(triggerTarget);\n    var overlayElement = getDOMNode(overlayTarget); // Check if the clicked element is a trigger.\n\n    if (triggerElement && contains(triggerElement, event.target)) {\n      return;\n    } // Check if the clicked element is a overlay.\n\n\n    if (overlayElement && contains(overlayElement, event.target)) {\n      return;\n    }\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n\n    onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n  }, [onRootClose, triggerTarget, overlayTarget]);\n  useEffect(function () {\n    var currentTarget = getDOMNode(triggerTarget);\n    if (disabled || !currentTarget) return;\n    var doc = ownerDocument(currentTarget);\n    var onDocumentMouseDownListener = on(doc, 'mousedown', handleDocumentMouseDown, true);\n    var onDocumentKeyupListener = on(doc, 'keyup', handleDocumentKeyUp);\n    return function () {\n      onDocumentMouseDownListener === null || onDocumentMouseDownListener === void 0 ? void 0 : onDocumentMouseDownListener.off();\n      onDocumentKeyupListener === null || onDocumentKeyupListener === void 0 ? void 0 : onDocumentKeyupListener.off();\n    };\n  }, [triggerTarget, disabled, onRootClose, handleDocumentMouseDown, handleDocumentKeyUp]);\n}\n\nexport default useRootClose;"],"mappings":"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"},"metadata":{},"sourceType":"module"}