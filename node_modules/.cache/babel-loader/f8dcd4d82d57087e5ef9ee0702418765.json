{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _omit from \"lodash/omit\";\nimport _isFunction from \"lodash/isFunction\";\nimport _pick from \"lodash/pick\";\nimport _isNil from \"lodash/isNil\";\nimport React, { useState, useRef, useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { List, AutoSizer } from '../Picker/VirtualizedList';\nimport CheckTreeNode from './CheckTreeNode';\nimport TreeContext from '../Tree/TreeContext';\nimport { getTreeNodeIndent } from '../utils/treeUtils';\nimport { createChainedFunction, useCustom, useClassNames, useControlled, KEY_VALUES, mergeRefs, shallowEqual } from '../utils';\nimport { PickerToggle, onMenuKeyDown as _onMenuKeyDown, PickerOverlay, SearchBar, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, usePickerClassName, usePublicMethods, pickTriggerPropKeys, omitTriggerPropKeys, listPickerPropTypes, useToggleKeyDownEvent } from '../Picker';\nimport { isEveryChildChecked, isSomeNodeHasChildren, isAllSiblingNodeUncheckable, isEveryFirstLevelNodeUncheckable, getFormattedTree, getDisabledState, getCheckTreePickerDefaultValue, getSelectedItems, isNodeUncheckable } from './utils';\nimport { hasVisibleChildren, getExpandWhenSearching, useTreeSearch, useTreeNodeRefs, getDefaultExpandItemValues, useFlattenTreeData, focusNextItem, getFocusableItems, focusPreviousItem, toggleExpand, getActiveItem, useGetTreeNodeChildren, focusToActiveTreeNode, focusTreeNode, leftArrowHandler, rightArrowHandler, isSearching } from '../utils/treeUtils';\nimport { maxTreeHeight } from '../TreePicker/TreePicker';\nvar emptyArray = [];\nvar CheckTreePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$data = props.data,\n      data = _props$data === void 0 ? emptyArray : _props$data,\n      style = props.style,\n      _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n      _props$cleanable = props.cleanable,\n      cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n      _props$countable = props.countable,\n      countable = _props$countable === void 0 ? true : _props$countable,\n      searchBy = props.searchBy,\n      toggleAs = props.toggleAs,\n      searchKeyword = props.searchKeyword,\n      showIndentLine = props.showIndentLine,\n      overrideLocale = props.locale,\n      _props$cascade = props.cascade,\n      cascade = _props$cascade === void 0 ? true : _props$cascade,\n      disabled = props.disabled,\n      _props$valueKey = props.valueKey,\n      valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n      _props$labelKey = props.labelKey,\n      labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n      _props$childrenKey = props.childrenKey,\n      childrenKey = _props$childrenKey === void 0 ? 'children' : _props$childrenKey,\n      placeholder = props.placeholder,\n      controlledValue = props.value,\n      _props$defaultValue = props.defaultValue,\n      defaultValue = _props$defaultValue === void 0 ? emptyArray : _props$defaultValue,\n      _props$defaultExpandA = props.defaultExpandAll,\n      defaultExpandAll = _props$defaultExpandA === void 0 ? false : _props$defaultExpandA,\n      _props$disabledItemVa = props.disabledItemValues,\n      disabledItemValues = _props$disabledItemVa === void 0 ? emptyArray : _props$disabledItemVa,\n      controlledExpandItemValues = props.expandItemValues,\n      _props$defaultExpandI = props.defaultExpandItemValues,\n      defaultExpandItemValues = _props$defaultExpandI === void 0 ? emptyArray : _props$defaultExpandI,\n      _props$height = props.height,\n      height = _props$height === void 0 ? 360 : _props$height,\n      menuStyle = props.menuStyle,\n      _props$searchable = props.searchable,\n      searchable = _props$searchable === void 0 ? true : _props$searchable,\n      _props$virtualized = props.virtualized,\n      virtualized = _props$virtualized === void 0 ? false : _props$virtualized,\n      className = props.className,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n      menuClassName = props.menuClassName,\n      _props$menuAutoWidth = props.menuAutoWidth,\n      menuAutoWidth = _props$menuAutoWidth === void 0 ? true : _props$menuAutoWidth,\n      _props$uncheckableIte = props.uncheckableItemValues,\n      uncheckableItemValues = _props$uncheckableIte === void 0 ? emptyArray : _props$uncheckableIte,\n      id = props.id,\n      listProps = props.listProps,\n      renderMenu = props.renderMenu,\n      getChildren = props.getChildren,\n      renderExtraFooter = props.renderExtraFooter,\n      onEntered = props.onEntered,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onExited = props.onExited,\n      onSearch = props.onSearch,\n      onSelect = props.onSelect,\n      onOpen = props.onOpen,\n      onScroll = props.onScroll,\n      onExpand = props.onExpand,\n      renderValue = props.renderValue,\n      renderTreeIcon = props.renderTreeIcon,\n      renderTreeNode = props.renderTreeNode,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"data\", \"style\", \"appearance\", \"cleanable\", \"countable\", \"searchBy\", \"toggleAs\", \"searchKeyword\", \"showIndentLine\", \"locale\", \"cascade\", \"disabled\", \"valueKey\", \"labelKey\", \"placement\", \"childrenKey\", \"placeholder\", \"value\", \"defaultValue\", \"defaultExpandAll\", \"disabledItemValues\", \"expandItemValues\", \"defaultExpandItemValues\", \"height\", \"menuStyle\", \"searchable\", \"virtualized\", \"className\", \"classPrefix\", \"menuClassName\", \"menuAutoWidth\", \"uncheckableItemValues\", \"id\", \"listProps\", \"renderMenu\", \"getChildren\", \"renderExtraFooter\", \"onEntered\", \"onChange\", \"onClean\", \"onClose\", \"onExited\", \"onSearch\", \"onSelect\", \"onOpen\", \"onScroll\", \"onExpand\", \"renderValue\", \"renderTreeIcon\", \"renderTreeNode\"]);\n\n  var _useContext = useContext(TreeContext),\n      inline = _useContext.inline;\n\n  var triggerRef = useRef(null);\n  var targetRef = useRef(null);\n  var listRef = useRef(null);\n  var overlayRef = useRef(null);\n  var searchInputRef = useRef(null);\n  var treeViewRef = useRef(null);\n\n  var _useCustom = useCustom('Picker', overrideLocale),\n      rtl = _useCustom.rtl,\n      locale = _useCustom.locale;\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(null),\n      activeNode = _useState2[0],\n      setActiveNode = _useState2[1];\n\n  var _useClassNames = useClassNames(classPrefix),\n      prefix = _useClassNames.prefix,\n      merge = _useClassNames.merge;\n\n  var _useClassNames2 = useClassNames('check-tree'),\n      checkTreePrefix = _useClassNames2.prefix,\n      withCheckTreeClassPrefix = _useClassNames2.withClassPrefix;\n\n  var _useControlled = useControlled(controlledValue, defaultValue),\n      value = _useControlled[0],\n      setValue = _useControlled[1],\n      isControlled = _useControlled[2];\n\n  var _useGetTreeNodeChildr = useGetTreeNodeChildren(data, valueKey, childrenKey),\n      treeData = _useGetTreeNodeChildr.data,\n      setTreeData = _useGetTreeNodeChildr.setData,\n      loadingNodeValues = _useGetTreeNodeChildr.loadingNodeValues,\n      loadChildren = _useGetTreeNodeChildr.loadChildren;\n\n  var _useControlled2 = useControlled(controlledExpandItemValues, getDefaultExpandItemValues(treeData, {\n    defaultExpandAll: defaultExpandAll,\n    valueKey: valueKey,\n    childrenKey: childrenKey,\n    defaultExpandItemValues: defaultExpandItemValues\n  })),\n      expandItemValues = _useControlled2[0],\n      setExpandItemValues = _useControlled2[1];\n\n  var _useState3 = useState(null),\n      focusItemValue = _useState3[0],\n      setFocusItemValue = _useState3[1];\n\n  var _useFlattenTreeData = useFlattenTreeData({\n    data: treeData,\n    labelKey: labelKey,\n    valueKey: valueKey,\n    childrenKey: childrenKey,\n    uncheckableItemValues: uncheckableItemValues,\n    callback: function callback(nodes) {\n      // after flattenData, always unSerialize check property value\n      unSerializeList({\n        nodes: nodes,\n        key: 'check',\n        value: value,\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n      forceUpdate();\n    }\n  }),\n      flattenNodes = _useFlattenTreeData.flattenNodes,\n      forceUpdate = _useFlattenTreeData.forceUpdate,\n      formatVirtualizedTreeData = _useFlattenTreeData.formatVirtualizedTreeData,\n      serializeListOnlyParent = _useFlattenTreeData.serializeListOnlyParent,\n      unSerializeList = _useFlattenTreeData.unSerializeList;\n\n  var _useTreeSearch = useTreeSearch({\n    labelKey: labelKey,\n    childrenKey: childrenKey,\n    searchKeyword: searchKeyword,\n    data: treeData,\n    searchBy: searchBy,\n    callback: function callback(searchKeyword, _filterData, event) {\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchKeyword, event);\n    }\n  }),\n      filteredData = _useTreeSearch.filteredData,\n      searchKeywordState = _useTreeSearch.searchKeywordState,\n      setSearchKeyword = _useTreeSearch.setSearchKeyword,\n      handleSearch = _useTreeSearch.handleSearch,\n      setFilteredData = _useTreeSearch.setFilteredData;\n\n  var _useTreeNodeRefs = useTreeNodeRefs(),\n      treeNodesRefs = _useTreeNodeRefs.treeNodesRefs,\n      saveTreeNodeRef = _useTreeNodeRefs.saveTreeNodeRef;\n  /**\n   * get formatted nodes for render tree\n   * @params render - renderNode function. only used when virtualized setting false\n   */\n\n\n  var getFormattedNodes = useCallback(function (render) {\n    if (virtualized) {\n      return formatVirtualizedTreeData(flattenNodes, filteredData, expandItemValues, {\n        cascade: cascade,\n        searchKeyword: searchKeywordState\n      }).filter(function (item) {\n        return item.visible;\n      });\n    }\n\n    return getFormattedTree(filteredData, flattenNodes, {\n      childrenKey: childrenKey,\n      cascade: cascade\n    }).map(function (node) {\n      return render === null || render === void 0 ? void 0 : render(node, 1);\n    });\n  }, [searchKeywordState, expandItemValues, filteredData, flattenNodes, formatVirtualizedTreeData, virtualized, childrenKey, cascade]);\n\n  var getTreeNodeProps = function getTreeNodeProps(node, layer) {\n    return {\n      as: Component,\n      rtl: rtl,\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      focus: shallowEqual(focusItemValue, node[valueKey]),\n      expand: node.expand,\n      visible: node.visible,\n      loading: loadingNodeValues.some(function (item) {\n        return shallowEqual(item, node[valueKey]);\n      }),\n      disabled: getDisabledState(flattenNodes, node, {\n        disabledItemValues: disabledItemValues,\n        valueKey: valueKey\n      }),\n      nodeData: node,\n      checkState: node.checkState,\n      uncheckable: isNodeUncheckable(node, {\n        uncheckableItemValues: uncheckableItemValues,\n        valueKey: valueKey\n      }),\n      allUncheckable: isAllSiblingNodeUncheckable(node, flattenNodes, uncheckableItemValues, valueKey),\n      onSelect: handleSelect,\n      onExpand: handleExpand,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n  };\n\n  var focusActiveNode = useCallback(function () {\n    if (listRef.current) {\n      focusToActiveTreeNode({\n        list: listRef.current,\n        valueKey: valueKey,\n        selector: \".\" + checkTreePrefix('node-active'),\n        activeNode: activeNode,\n        virtualized: virtualized,\n        container: treeViewRef.current,\n        formattedNodes: getFormattedNodes()\n      });\n    }\n  }, [checkTreePrefix, activeNode, getFormattedNodes, valueKey, virtualized]);\n  useEffect(function () {\n    setValue(getCheckTreePickerDefaultValue(value, uncheckableItemValues));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    setFilteredData(data, searchKeywordState);\n    setTreeData(data);\n  }, [data, searchKeywordState, setFilteredData, setTreeData]);\n  useEffect(function () {\n    setFilteredData(treeData, searchKeywordState);\n  }, [treeData, searchKeywordState, setFilteredData]);\n  useEffect(function () {\n    if (Array.isArray(controlledExpandItemValues)) {\n      setExpandItemValues(controlledExpandItemValues);\n    }\n  }, [controlledExpandItemValues, setExpandItemValues]);\n  useEffect(function () {\n    setSearchKeyword(searchKeyword !== null && searchKeyword !== void 0 ? searchKeyword : '');\n  }, [searchKeyword, setSearchKeyword]);\n  useEffect(function () {\n    unSerializeList({\n      nodes: flattenNodes,\n      key: 'check',\n      value: value,\n      cascade: cascade,\n      uncheckableItemValues: uncheckableItemValues\n    });\n    forceUpdate();\n  }, [cascade, value, uncheckableItemValues, unSerializeList, flattenNodes, forceUpdate]);\n  var toggleUpChecked = useCallback(function (nodes, node, checked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n\n    if (cascade && currentNode) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (isEveryChildChecked(nodes, currentNode)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n\n      if (currentNode.parent) {\n        toggleUpChecked(nodes, currentNode.parent, checked);\n      }\n    }\n  }, [cascade]);\n  var toggleDownChecked = useCallback(function (nodes, node, isChecked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n\n    if (!currentNode) {\n      return;\n    }\n\n    currentNode.check = isChecked;\n\n    if (!currentNode[childrenKey] || !currentNode[childrenKey].length || !cascade) {\n      currentNode.checkAll = false;\n    } else {\n      currentNode.checkAll = isChecked;\n      currentNode[childrenKey].forEach(function (child) {\n        toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  }, [cascade, childrenKey]);\n  var toggleChecked = useCallback(function (node, isChecked) {\n    var nodes = _cloneDeep(flattenNodes);\n\n    toggleDownChecked(nodes, node, isChecked);\n    node.parent && toggleUpChecked(nodes, node.parent, isChecked);\n    var values = serializeListOnlyParent(nodes, 'check'); // filter uncheckableItemValues\n\n    return values.filter(function (v) {\n      return !uncheckableItemValues.includes(v);\n    });\n  }, [flattenNodes, uncheckableItemValues, serializeListOnlyParent, toggleDownChecked, toggleUpChecked]);\n  var handleSelect = useCallback(function (node, event) {\n    var currentNode = node.refKey ? flattenNodes[node.refKey] : null;\n\n    if (!node || !currentNode) {\n      return;\n    }\n\n    var selectedValues = toggleChecked(node, !currentNode.check);\n\n    if (!isControlled) {\n      unSerializeList({\n        nodes: flattenNodes,\n        key: 'check',\n        value: selectedValues,\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n      setValue(selectedValues);\n    }\n\n    setActiveNode(node);\n    setFocusItemValue(node[valueKey]);\n    onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(node, selectedValues, event);\n  }, [cascade, valueKey, flattenNodes, isControlled, uncheckableItemValues, setValue, onChange, onSelect, toggleChecked, unSerializeList]);\n\n  var hasValue = function hasValue() {\n    var selectedValues = Object.keys(flattenNodes).map(function (refKey) {\n      return flattenNodes[refKey][valueKey];\n    }).filter(function (item) {\n      return value.some(function (v) {\n        return shallowEqual(v, item);\n      });\n    });\n    return !!selectedValues.length;\n  };\n\n  var handleOpen = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$o;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$o = _triggerRef$current.open) === null || _triggerRef$current$o === void 0 ? void 0 : _triggerRef$current$o.call(_triggerRef$current);\n    setFocusItemValue(activeNode === null || activeNode === void 0 ? void 0 : activeNode[valueKey]);\n    focusActiveNode();\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setActive(true);\n  }, [activeNode, focusActiveNode, onOpen, valueKey]);\n  var handleClose = useCallback(function () {\n    var _triggerRef$current2, _triggerRef$current2$, _targetRef$current;\n\n    (_triggerRef$current2 = triggerRef.current) === null || _triggerRef$current2 === void 0 ? void 0 : (_triggerRef$current2$ = _triggerRef$current2.close) === null || _triggerRef$current2$ === void 0 ? void 0 : _triggerRef$current2$.call(_triggerRef$current2);\n    setSearchKeyword('');\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    setFocusItemValue(null);\n    setActive(false);\n    /**\n     * when using keyboard toggle picker, should refocus on PickerToggle Component after close picker menu\n     */\n\n    (_targetRef$current = targetRef.current) === null || _targetRef$current === void 0 ? void 0 : _targetRef$current.focus();\n  }, [onClose, setSearchKeyword]);\n  var handleExpand = useCallback(function (node) {\n    var nextExpandItemValues = toggleExpand({\n      node: node,\n      isExpand: !node.expand,\n      expandItemValues: expandItemValues,\n      valueKey: valueKey\n    });\n    setExpandItemValues(nextExpandItemValues);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n      valueKey: valueKey,\n      childrenKey: childrenKey\n    }));\n\n    if (_isFunction(getChildren) && !node.expand && Array.isArray(node[childrenKey]) && node[childrenKey].length === 0) {\n      loadChildren(node, getChildren);\n    }\n  }, [childrenKey, expandItemValues, getChildren, loadChildren, onExpand, setExpandItemValues, valueKey]);\n  usePublicMethods(ref, {\n    rootRef: inline ? treeViewRef : undefined,\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    listRef: listRef,\n    inline: inline\n  });\n  var handleClean = useCallback(function (event) {\n    var target = event.target; // exclude searchBar\n\n    if (target.matches('div[role=\"searchbox\"] > input')) {\n      return;\n    }\n\n    setActiveNode(null);\n    setValue([]);\n    setFocusItemValue(null);\n    unSerializeList({\n      nodes: flattenNodes,\n      key: 'check',\n      value: [],\n      cascade: cascade,\n      uncheckableItemValues: uncheckableItemValues\n    });\n    onChange === null || onChange === void 0 ? void 0 : onChange([], event);\n  }, [cascade, flattenNodes, onChange, setValue, unSerializeList, uncheckableItemValues]);\n  var handleFocusItem = useCallback(function (key) {\n    var focusableItems = getFocusableItems(filteredData, {\n      disabledItemValues: disabledItemValues,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      expandItemValues: expandItemValues\n    }, isSearching(searchKeywordState));\n    var selector = \".\" + checkTreePrefix('node-label');\n    var focusProps = {\n      focusItemValue: focusItemValue,\n      focusableItems: focusableItems,\n      treeNodesRefs: treeNodesRefs,\n      selector: selector,\n      valueKey: valueKey,\n      callback: function callback(nextFocusItemValue) {\n        setFocusItemValue(nextFocusItemValue);\n      }\n    };\n\n    if (key === KEY_VALUES.DOWN) {\n      focusNextItem(focusProps);\n      return;\n    }\n\n    if (key === KEY_VALUES.UP) {\n      focusPreviousItem(focusProps);\n    }\n  }, [searchKeywordState, checkTreePrefix, expandItemValues, filteredData, focusItemValue, treeNodesRefs, childrenKey, valueKey, disabledItemValues]);\n  var handleLeftArrow = useCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    leftArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      onExpand: handleExpand,\n      childrenKey: childrenKey,\n      onFocusItem: function onFocusItem() {\n        var _focusItem$parent, _focusItem$parent2;\n\n        setFocusItemValue(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent = focusItem.parent) === null || _focusItem$parent === void 0 ? void 0 : _focusItem$parent[valueKey]);\n        focusTreeNode(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent2 = focusItem.parent) === null || _focusItem$parent2 === void 0 ? void 0 : _focusItem$parent2.refKey, treeNodesRefs, \".\" + checkTreePrefix('node-label'));\n      }\n    });\n  }, [checkTreePrefix, expandItemValues, flattenNodes, focusItemValue, handleExpand, treeNodesRefs, valueKey, childrenKey]);\n  var handleRightArrow = useCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    rightArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      childrenKey: childrenKey,\n      onExpand: handleExpand,\n      onFocusItem: function onFocusItem() {\n        handleFocusItem(KEY_VALUES.DOWN);\n      }\n    });\n  }, [focusItemValue, flattenNodes, valueKey, expandItemValues, childrenKey, handleExpand, handleFocusItem]);\n  var selectActiveItem = useCallback(function (event) {\n    if (_isNil(focusItemValue)) return;\n    var activeItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n\n    if (!isNodeUncheckable(activeItem, {\n      uncheckableItemValues: uncheckableItemValues,\n      valueKey: valueKey\n    }) && activeItem !== null) {\n      handleSelect(activeItem, event);\n    }\n  }, [flattenNodes, focusItemValue, handleSelect, uncheckableItemValues, valueKey]);\n  var onPickerKeydown = useToggleKeyDownEvent({\n    toggle: !focusItemValue || !active,\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    overlayRef: overlayRef,\n    searchInputRef: searchInputRef,\n    active: active,\n    onExit: handleClean,\n    onClose: handleClose,\n    onMenuKeyDown: function onMenuKeyDown(event) {\n      _onMenuKeyDown(event, {\n        down: function down() {\n          return handleFocusItem(KEY_VALUES.DOWN);\n        },\n        up: function up() {\n          return handleFocusItem(KEY_VALUES.UP);\n        },\n        left: rtl ? handleRightArrow : handleLeftArrow,\n        right: rtl ? handleLeftArrow : handleRightArrow,\n        enter: selectActiveItem,\n        del: handleClean\n      });\n    }\n  });\n  var handleTreeKeydown = useCallback(function (event) {\n    if (!treeViewRef.current) {\n      return;\n    }\n\n    _onMenuKeyDown(event, {\n      down: function down() {\n        return handleFocusItem(KEY_VALUES.DOWN);\n      },\n      up: function up() {\n        return handleFocusItem(KEY_VALUES.UP);\n      },\n      left: rtl ? handleRightArrow : handleLeftArrow,\n      right: rtl ? handleLeftArrow : handleRightArrow,\n      enter: selectActiveItem\n    });\n  }, [handleFocusItem, handleLeftArrow, handleRightArrow, rtl, selectActiveItem]);\n\n  var renderNode = function renderNode(node, layer) {\n    var visible = node.visible,\n        refKey = node.refKey; // when searching, all nodes should be expand\n\n    var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n\n    if (!visible) {\n      return null;\n    }\n\n    var children = node[childrenKey];\n    var visibleChildren = _isUndefined(searchKeywordState) || searchKeywordState.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n\n    var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n      /**\n       * spread operator dont copy unenumerable properties\n       * so we need to copy them manually\n       */\n      parent: node.parent,\n      expand: expand\n    }), layer), {\n      hasChildren: visibleChildren\n    });\n\n    if (nodeProps.hasChildren) {\n      var _merge;\n\n      layer += 1;\n      var openClass = checkTreePrefix('open');\n      var childrenClass = merge(checkTreePrefix('node-children'), (_merge = {}, _merge[openClass] = expand && visibleChildren, _merge));\n      var nodes = children || [];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: childrenClass,\n        key: node[valueKey]\n      }, /*#__PURE__*/React.createElement(CheckTreeNode, _extends({}, nodeProps, {\n        ref: function ref(_ref) {\n          return saveTreeNodeRef(_ref, refKey);\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: checkTreePrefix('children')\n      }, nodes.map(function (child) {\n        return renderNode(child, layer);\n      }), showIndentLine && /*#__PURE__*/React.createElement(\"span\", {\n        className: checkTreePrefix('indent-line'),\n        style: getTreeNodeIndent(rtl, layer - 1, true)\n      })));\n    }\n\n    return /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n      key: node[valueKey],\n      ref: function ref(_ref2) {\n        return saveTreeNodeRef(_ref2, refKey);\n      }\n    }, nodeProps));\n  };\n\n  var renderVirtualListNode = function renderVirtualListNode(nodes) {\n    return function (_ref3) {\n      var key = _ref3.key,\n          index = _ref3.index,\n          style = _ref3.style;\n      var node = nodes[index];\n      var layer = node.layer,\n          refKey = node.refKey,\n          visible = node.visible;\n      var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n\n      var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n        expand: expand\n      }), layer), {\n        hasChildren: node.hasChildren\n      });\n\n      return visible && /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n        style: style,\n        key: key,\n        ref: function ref(_ref4) {\n          return saveTreeNodeRef(_ref4, refKey);\n        }\n      }, nodeProps));\n    };\n  };\n\n  var renderCheckTree = function renderCheckTree() {\n    var _withCheckTreeClassPr, _merge2;\n\n    var classes = withCheckTreeClassPrefix((_withCheckTreeClassPr = {}, _withCheckTreeClassPr[className !== null && className !== void 0 ? className : ''] = inline, _withCheckTreeClassPr['without-children'] = !isSomeNodeHasChildren(data, childrenKey), _withCheckTreeClassPr.virtualized = virtualized, _withCheckTreeClassPr));\n    var formattedNodes = getFormattedNodes(renderNode);\n\n    if (!formattedNodes.some(function (v) {\n      return v !== null;\n    })) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('none')\n      }, locale.noResultsText);\n    }\n\n    var treeNodesClass = merge(checkTreePrefix('nodes'), (_merge2 = {}, _merge2[checkTreePrefix('all-uncheckable')] = isEveryFirstLevelNodeUncheckable(flattenNodes, uncheckableItemValues, valueKey), _merge2));\n    var styles = inline ? _extends({\n      height: height\n    }, style) : {};\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id ? id + \"-listbox\" : undefined,\n      ref: treeViewRef,\n      role: \"tree\",\n      \"aria-multiselectable\": true,\n      className: classes,\n      style: styles,\n      onScroll: onScroll,\n      onKeyDown: inline ? handleTreeKeydown : undefined\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: treeNodesClass\n    }, virtualized ? /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: inline ? height : maxTreeHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref5) {\n      var height = _ref5.height,\n          width = _ref5.width;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: listRef,\n        width: width,\n        height: height,\n        rowHeight: 36,\n        rowCount: formattedNodes.length,\n        rowRenderer: renderVirtualListNode(formattedNodes),\n        scrollToAlignment: \"center\"\n      }, listProps));\n    }) : formattedNodes));\n  };\n\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = classNames(className, menuClassName, prefix('check-tree-menu'));\n\n    var mergedMenuStyle = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var styles = virtualized ? _extends({\n      height: height\n    }, mergedMenuStyle) : _extends({}, mergedMenuStyle);\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: styles,\n      ref: mergeRefs(overlayRef, speakerRef),\n      onKeyDown: onPickerKeydown,\n      target: triggerRef\n    }, searchable ? /*#__PURE__*/React.createElement(SearchBar, {\n      placeholder: locale.searchPlaceholder,\n      onChange: handleSearch,\n      value: searchKeywordState,\n      inputRef: searchInputRef\n    }) : null, renderMenu ? renderMenu(renderCheckTree()) : renderCheckTree(), renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n  /**\n   * 1.Have a value and the value is valid.\n   * 2.Regardless of whether the value is valid, as long as renderValue is set, it is judged to have a value.\n   */\n\n\n  var hasValidValue = hasValue() || value.length > 0 && _isFunction(renderValue);\n\n  var selectedElement = placeholder;\n  var selectedItems = getSelectedItems(flattenNodes, value, valueKey);\n\n  if (hasValidValue) {\n    selectedElement = /*#__PURE__*/React.createElement(SelectedElement, {\n      selectedItems: selectedItems,\n      countable: countable,\n      valueKey: valueKey,\n      labelKey: labelKey,\n      childrenKey: childrenKey,\n      prefix: prefix,\n      cascade: cascade,\n      locale: locale\n    });\n\n    if (_isFunction(renderValue)) {\n      selectedElement = renderValue(value, selectedItems, selectedElement);\n\n      if (_isNil(selectedElement)) {\n        hasValidValue = false;\n      }\n    }\n  }\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    classPrefix: classPrefix,\n    appearance: appearance,\n    countable: countable,\n    cleanable: cleanable,\n    disabled: disabled,\n    hasValue: hasValidValue,\n    name: 'check-tree'\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  if (inline) {\n    return renderCheckTree();\n  }\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: _pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: handleOpen,\n    onEntered: onEntered,\n    onExited: createChainedFunction(handleClose, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, _omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys)), {\n    id: id,\n    ref: targetRef,\n    appearance: appearance,\n    onKeyDown: onPickerKeydown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    disabled: disabled,\n    as: toggleAs,\n    hasValue: hasValidValue,\n    active: active,\n    placement: placement,\n    inputValue: value\n  }), selectedElement || locale.placeholder)));\n});\nCheckTreePicker.displayName = 'CheckTreePicker';\nCheckTreePicker.propTypes = _extends({}, listPickerPropTypes, {\n  height: PropTypes.number,\n  appearance: PropTypes.oneOf(['default', 'subtle']),\n  locale: PropTypes.any,\n  cascade: PropTypes.bool,\n  countable: PropTypes.bool,\n  searchable: PropTypes.bool,\n  virtualized: PropTypes.bool,\n  searchKeyword: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  onSearch: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  searchBy: PropTypes.func,\n  onScroll: PropTypes.func\n});\nexport default CheckTreePicker;","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_isUndefined","_cloneDeep","_omit","_isFunction","_pick","_isNil","React","useState","useRef","useEffect","useCallback","useContext","PropTypes","classNames","List","AutoSizer","CheckTreeNode","TreeContext","getTreeNodeIndent","createChainedFunction","useCustom","useClassNames","useControlled","KEY_VALUES","mergeRefs","shallowEqual","PickerToggle","onMenuKeyDown","_onMenuKeyDown","PickerOverlay","SearchBar","SelectedElement","PickerToggleTrigger","createConcatChildrenFunction","usePickerClassName","usePublicMethods","pickTriggerPropKeys","omitTriggerPropKeys","listPickerPropTypes","useToggleKeyDownEvent","isEveryChildChecked","isSomeNodeHasChildren","isAllSiblingNodeUncheckable","isEveryFirstLevelNodeUncheckable","getFormattedTree","getDisabledState","getCheckTreePickerDefaultValue","getSelectedItems","isNodeUncheckable","hasVisibleChildren","getExpandWhenSearching","useTreeSearch","useTreeNodeRefs","getDefaultExpandItemValues","useFlattenTreeData","focusNextItem","getFocusableItems","focusPreviousItem","toggleExpand","getActiveItem","useGetTreeNodeChildren","focusToActiveTreeNode","focusTreeNode","leftArrowHandler","rightArrowHandler","isSearching","maxTreeHeight","emptyArray","CheckTreePicker","forwardRef","props","ref","_props$as","as","Component","_props$data","data","style","_props$appearance","appearance","_props$cleanable","cleanable","_props$countable","countable","searchBy","toggleAs","searchKeyword","showIndentLine","overrideLocale","locale","_props$cascade","cascade","disabled","_props$valueKey","valueKey","_props$labelKey","labelKey","_props$placement","placement","_props$childrenKey","childrenKey","placeholder","controlledValue","value","_props$defaultValue","defaultValue","_props$defaultExpandA","defaultExpandAll","_props$disabledItemVa","disabledItemValues","controlledExpandItemValues","expandItemValues","_props$defaultExpandI","defaultExpandItemValues","_props$height","height","menuStyle","_props$searchable","searchable","_props$virtualized","virtualized","className","_props$classPrefix","classPrefix","menuClassName","_props$menuAutoWidth","menuAutoWidth","_props$uncheckableIte","uncheckableItemValues","id","listProps","renderMenu","getChildren","renderExtraFooter","onEntered","onChange","onClean","onClose","onExited","onSearch","onSelect","onOpen","onScroll","onExpand","renderValue","renderTreeIcon","renderTreeNode","rest","_useContext","inline","triggerRef","targetRef","listRef","overlayRef","searchInputRef","treeViewRef","_useCustom","rtl","_useState","active","setActive","_useState2","activeNode","setActiveNode","_useClassNames","prefix","merge","_useClassNames2","checkTreePrefix","withCheckTreeClassPrefix","withClassPrefix","_useControlled","setValue","isControlled","_useGetTreeNodeChildr","treeData","setTreeData","setData","loadingNodeValues","loadChildren","_useControlled2","setExpandItemValues","_useState3","focusItemValue","setFocusItemValue","_useFlattenTreeData","callback","nodes","unSerializeList","key","forceUpdate","flattenNodes","formatVirtualizedTreeData","serializeListOnlyParent","_useTreeSearch","_filterData","event","filteredData","searchKeywordState","setSearchKeyword","handleSearch","setFilteredData","_useTreeNodeRefs","treeNodesRefs","saveTreeNodeRef","getFormattedNodes","render","filter","item","visible","map","node","getTreeNodeProps","layer","label","focus","expand","loading","some","nodeData","checkState","uncheckable","allUncheckable","handleSelect","handleExpand","onRenderTreeNode","onRenderTreeIcon","focusActiveNode","current","list","selector","container","formattedNodes","Array","isArray","toggleUpChecked","checked","currentNode","refKey","check","checkAll","parent","toggleDownChecked","isChecked","length","forEach","child","toggleChecked","values","v","includes","selectedValues","hasValue","Object","keys","handleOpen","_triggerRef$current","_triggerRef$current$o","open","call","handleClose","_triggerRef$current2","_triggerRef$current2$","_targetRef$current","close","nextExpandItemValues","isExpand","rootRef","undefined","handleClean","target","matches","handleFocusItem","focusableItems","focusProps","nextFocusItemValue","DOWN","UP","handleLeftArrow","focusItem","onFocusItem","_focusItem$parent","_focusItem$parent2","handleRightArrow","selectActiveItem","activeItem","onPickerKeydown","toggle","onExit","down","up","left","right","enter","del","handleTreeKeydown","renderNode","children","visibleChildren","nodeProps","hasChildren","_merge","openClass","childrenClass","createElement","_ref","_ref2","renderVirtualListNode","_ref3","index","_ref4","renderCheckTree","_withCheckTreeClassPr","_merge2","classes","noResultsText","treeNodesClass","styles","role","onKeyDown","defaultHeight","width","_ref5","rowHeight","rowCount","rowRenderer","scrollToAlignment","renderDropdownMenu","positionProps","speakerRef","top","mergedMenuStyle","autoWidth","searchPlaceholder","inputRef","hasValidValue","selectedElement","selectedItems","_usePickerClassName","name","usedClassNamePropKeys","pickerProps","onEnter","speaker","concat","inputValue","displayName","propTypes","number","oneOf","any","bool","string","containerPadding","array","func"],"sources":["C:/Users/61420/Desktop/chameleon-website/node_modules/rsuite/esm/CheckTreePicker/CheckTreePicker.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _omit from \"lodash/omit\";\nimport _isFunction from \"lodash/isFunction\";\nimport _pick from \"lodash/pick\";\nimport _isNil from \"lodash/isNil\";\nimport React, { useState, useRef, useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { List, AutoSizer } from '../Picker/VirtualizedList';\nimport CheckTreeNode from './CheckTreeNode';\nimport TreeContext from '../Tree/TreeContext';\nimport { getTreeNodeIndent } from '../utils/treeUtils';\nimport { createChainedFunction, useCustom, useClassNames, useControlled, KEY_VALUES, mergeRefs, shallowEqual } from '../utils';\nimport { PickerToggle, onMenuKeyDown as _onMenuKeyDown, PickerOverlay, SearchBar, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, usePickerClassName, usePublicMethods, pickTriggerPropKeys, omitTriggerPropKeys, listPickerPropTypes, useToggleKeyDownEvent } from '../Picker';\nimport { isEveryChildChecked, isSomeNodeHasChildren, isAllSiblingNodeUncheckable, isEveryFirstLevelNodeUncheckable, getFormattedTree, getDisabledState, getCheckTreePickerDefaultValue, getSelectedItems, isNodeUncheckable } from './utils';\nimport { hasVisibleChildren, getExpandWhenSearching, useTreeSearch, useTreeNodeRefs, getDefaultExpandItemValues, useFlattenTreeData, focusNextItem, getFocusableItems, focusPreviousItem, toggleExpand, getActiveItem, useGetTreeNodeChildren, focusToActiveTreeNode, focusTreeNode, leftArrowHandler, rightArrowHandler, isSearching } from '../utils/treeUtils';\nimport { maxTreeHeight } from '../TreePicker/TreePicker';\nvar emptyArray = [];\nvar CheckTreePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$data = props.data,\n      data = _props$data === void 0 ? emptyArray : _props$data,\n      style = props.style,\n      _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n      _props$cleanable = props.cleanable,\n      cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n      _props$countable = props.countable,\n      countable = _props$countable === void 0 ? true : _props$countable,\n      searchBy = props.searchBy,\n      toggleAs = props.toggleAs,\n      searchKeyword = props.searchKeyword,\n      showIndentLine = props.showIndentLine,\n      overrideLocale = props.locale,\n      _props$cascade = props.cascade,\n      cascade = _props$cascade === void 0 ? true : _props$cascade,\n      disabled = props.disabled,\n      _props$valueKey = props.valueKey,\n      valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n      _props$labelKey = props.labelKey,\n      labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n      _props$childrenKey = props.childrenKey,\n      childrenKey = _props$childrenKey === void 0 ? 'children' : _props$childrenKey,\n      placeholder = props.placeholder,\n      controlledValue = props.value,\n      _props$defaultValue = props.defaultValue,\n      defaultValue = _props$defaultValue === void 0 ? emptyArray : _props$defaultValue,\n      _props$defaultExpandA = props.defaultExpandAll,\n      defaultExpandAll = _props$defaultExpandA === void 0 ? false : _props$defaultExpandA,\n      _props$disabledItemVa = props.disabledItemValues,\n      disabledItemValues = _props$disabledItemVa === void 0 ? emptyArray : _props$disabledItemVa,\n      controlledExpandItemValues = props.expandItemValues,\n      _props$defaultExpandI = props.defaultExpandItemValues,\n      defaultExpandItemValues = _props$defaultExpandI === void 0 ? emptyArray : _props$defaultExpandI,\n      _props$height = props.height,\n      height = _props$height === void 0 ? 360 : _props$height,\n      menuStyle = props.menuStyle,\n      _props$searchable = props.searchable,\n      searchable = _props$searchable === void 0 ? true : _props$searchable,\n      _props$virtualized = props.virtualized,\n      virtualized = _props$virtualized === void 0 ? false : _props$virtualized,\n      className = props.className,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n      menuClassName = props.menuClassName,\n      _props$menuAutoWidth = props.menuAutoWidth,\n      menuAutoWidth = _props$menuAutoWidth === void 0 ? true : _props$menuAutoWidth,\n      _props$uncheckableIte = props.uncheckableItemValues,\n      uncheckableItemValues = _props$uncheckableIte === void 0 ? emptyArray : _props$uncheckableIte,\n      id = props.id,\n      listProps = props.listProps,\n      renderMenu = props.renderMenu,\n      getChildren = props.getChildren,\n      renderExtraFooter = props.renderExtraFooter,\n      onEntered = props.onEntered,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onExited = props.onExited,\n      onSearch = props.onSearch,\n      onSelect = props.onSelect,\n      onOpen = props.onOpen,\n      onScroll = props.onScroll,\n      onExpand = props.onExpand,\n      renderValue = props.renderValue,\n      renderTreeIcon = props.renderTreeIcon,\n      renderTreeNode = props.renderTreeNode,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"data\", \"style\", \"appearance\", \"cleanable\", \"countable\", \"searchBy\", \"toggleAs\", \"searchKeyword\", \"showIndentLine\", \"locale\", \"cascade\", \"disabled\", \"valueKey\", \"labelKey\", \"placement\", \"childrenKey\", \"placeholder\", \"value\", \"defaultValue\", \"defaultExpandAll\", \"disabledItemValues\", \"expandItemValues\", \"defaultExpandItemValues\", \"height\", \"menuStyle\", \"searchable\", \"virtualized\", \"className\", \"classPrefix\", \"menuClassName\", \"menuAutoWidth\", \"uncheckableItemValues\", \"id\", \"listProps\", \"renderMenu\", \"getChildren\", \"renderExtraFooter\", \"onEntered\", \"onChange\", \"onClean\", \"onClose\", \"onExited\", \"onSearch\", \"onSelect\", \"onOpen\", \"onScroll\", \"onExpand\", \"renderValue\", \"renderTreeIcon\", \"renderTreeNode\"]);\n\n  var _useContext = useContext(TreeContext),\n      inline = _useContext.inline;\n\n  var triggerRef = useRef(null);\n  var targetRef = useRef(null);\n  var listRef = useRef(null);\n  var overlayRef = useRef(null);\n  var searchInputRef = useRef(null);\n  var treeViewRef = useRef(null);\n\n  var _useCustom = useCustom('Picker', overrideLocale),\n      rtl = _useCustom.rtl,\n      locale = _useCustom.locale;\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(null),\n      activeNode = _useState2[0],\n      setActiveNode = _useState2[1];\n\n  var _useClassNames = useClassNames(classPrefix),\n      prefix = _useClassNames.prefix,\n      merge = _useClassNames.merge;\n\n  var _useClassNames2 = useClassNames('check-tree'),\n      checkTreePrefix = _useClassNames2.prefix,\n      withCheckTreeClassPrefix = _useClassNames2.withClassPrefix;\n\n  var _useControlled = useControlled(controlledValue, defaultValue),\n      value = _useControlled[0],\n      setValue = _useControlled[1],\n      isControlled = _useControlled[2];\n\n  var _useGetTreeNodeChildr = useGetTreeNodeChildren(data, valueKey, childrenKey),\n      treeData = _useGetTreeNodeChildr.data,\n      setTreeData = _useGetTreeNodeChildr.setData,\n      loadingNodeValues = _useGetTreeNodeChildr.loadingNodeValues,\n      loadChildren = _useGetTreeNodeChildr.loadChildren;\n\n  var _useControlled2 = useControlled(controlledExpandItemValues, getDefaultExpandItemValues(treeData, {\n    defaultExpandAll: defaultExpandAll,\n    valueKey: valueKey,\n    childrenKey: childrenKey,\n    defaultExpandItemValues: defaultExpandItemValues\n  })),\n      expandItemValues = _useControlled2[0],\n      setExpandItemValues = _useControlled2[1];\n\n  var _useState3 = useState(null),\n      focusItemValue = _useState3[0],\n      setFocusItemValue = _useState3[1];\n\n  var _useFlattenTreeData = useFlattenTreeData({\n    data: treeData,\n    labelKey: labelKey,\n    valueKey: valueKey,\n    childrenKey: childrenKey,\n    uncheckableItemValues: uncheckableItemValues,\n    callback: function callback(nodes) {\n      // after flattenData, always unSerialize check property value\n      unSerializeList({\n        nodes: nodes,\n        key: 'check',\n        value: value,\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n      forceUpdate();\n    }\n  }),\n      flattenNodes = _useFlattenTreeData.flattenNodes,\n      forceUpdate = _useFlattenTreeData.forceUpdate,\n      formatVirtualizedTreeData = _useFlattenTreeData.formatVirtualizedTreeData,\n      serializeListOnlyParent = _useFlattenTreeData.serializeListOnlyParent,\n      unSerializeList = _useFlattenTreeData.unSerializeList;\n\n  var _useTreeSearch = useTreeSearch({\n    labelKey: labelKey,\n    childrenKey: childrenKey,\n    searchKeyword: searchKeyword,\n    data: treeData,\n    searchBy: searchBy,\n    callback: function callback(searchKeyword, _filterData, event) {\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchKeyword, event);\n    }\n  }),\n      filteredData = _useTreeSearch.filteredData,\n      searchKeywordState = _useTreeSearch.searchKeywordState,\n      setSearchKeyword = _useTreeSearch.setSearchKeyword,\n      handleSearch = _useTreeSearch.handleSearch,\n      setFilteredData = _useTreeSearch.setFilteredData;\n\n  var _useTreeNodeRefs = useTreeNodeRefs(),\n      treeNodesRefs = _useTreeNodeRefs.treeNodesRefs,\n      saveTreeNodeRef = _useTreeNodeRefs.saveTreeNodeRef;\n  /**\n   * get formatted nodes for render tree\n   * @params render - renderNode function. only used when virtualized setting false\n   */\n\n\n  var getFormattedNodes = useCallback(function (render) {\n    if (virtualized) {\n      return formatVirtualizedTreeData(flattenNodes, filteredData, expandItemValues, {\n        cascade: cascade,\n        searchKeyword: searchKeywordState\n      }).filter(function (item) {\n        return item.visible;\n      });\n    }\n\n    return getFormattedTree(filteredData, flattenNodes, {\n      childrenKey: childrenKey,\n      cascade: cascade\n    }).map(function (node) {\n      return render === null || render === void 0 ? void 0 : render(node, 1);\n    });\n  }, [searchKeywordState, expandItemValues, filteredData, flattenNodes, formatVirtualizedTreeData, virtualized, childrenKey, cascade]);\n\n  var getTreeNodeProps = function getTreeNodeProps(node, layer) {\n    return {\n      as: Component,\n      rtl: rtl,\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      focus: shallowEqual(focusItemValue, node[valueKey]),\n      expand: node.expand,\n      visible: node.visible,\n      loading: loadingNodeValues.some(function (item) {\n        return shallowEqual(item, node[valueKey]);\n      }),\n      disabled: getDisabledState(flattenNodes, node, {\n        disabledItemValues: disabledItemValues,\n        valueKey: valueKey\n      }),\n      nodeData: node,\n      checkState: node.checkState,\n      uncheckable: isNodeUncheckable(node, {\n        uncheckableItemValues: uncheckableItemValues,\n        valueKey: valueKey\n      }),\n      allUncheckable: isAllSiblingNodeUncheckable(node, flattenNodes, uncheckableItemValues, valueKey),\n      onSelect: handleSelect,\n      onExpand: handleExpand,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n  };\n\n  var focusActiveNode = useCallback(function () {\n    if (listRef.current) {\n      focusToActiveTreeNode({\n        list: listRef.current,\n        valueKey: valueKey,\n        selector: \".\" + checkTreePrefix('node-active'),\n        activeNode: activeNode,\n        virtualized: virtualized,\n        container: treeViewRef.current,\n        formattedNodes: getFormattedNodes()\n      });\n    }\n  }, [checkTreePrefix, activeNode, getFormattedNodes, valueKey, virtualized]);\n  useEffect(function () {\n    setValue(getCheckTreePickerDefaultValue(value, uncheckableItemValues));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    setFilteredData(data, searchKeywordState);\n    setTreeData(data);\n  }, [data, searchKeywordState, setFilteredData, setTreeData]);\n  useEffect(function () {\n    setFilteredData(treeData, searchKeywordState);\n  }, [treeData, searchKeywordState, setFilteredData]);\n  useEffect(function () {\n    if (Array.isArray(controlledExpandItemValues)) {\n      setExpandItemValues(controlledExpandItemValues);\n    }\n  }, [controlledExpandItemValues, setExpandItemValues]);\n  useEffect(function () {\n    setSearchKeyword(searchKeyword !== null && searchKeyword !== void 0 ? searchKeyword : '');\n  }, [searchKeyword, setSearchKeyword]);\n  useEffect(function () {\n    unSerializeList({\n      nodes: flattenNodes,\n      key: 'check',\n      value: value,\n      cascade: cascade,\n      uncheckableItemValues: uncheckableItemValues\n    });\n    forceUpdate();\n  }, [cascade, value, uncheckableItemValues, unSerializeList, flattenNodes, forceUpdate]);\n  var toggleUpChecked = useCallback(function (nodes, node, checked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n\n    if (cascade && currentNode) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (isEveryChildChecked(nodes, currentNode)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n\n      if (currentNode.parent) {\n        toggleUpChecked(nodes, currentNode.parent, checked);\n      }\n    }\n  }, [cascade]);\n  var toggleDownChecked = useCallback(function (nodes, node, isChecked) {\n    var currentNode = node.refKey ? nodes[node.refKey] : null;\n\n    if (!currentNode) {\n      return;\n    }\n\n    currentNode.check = isChecked;\n\n    if (!currentNode[childrenKey] || !currentNode[childrenKey].length || !cascade) {\n      currentNode.checkAll = false;\n    } else {\n      currentNode.checkAll = isChecked;\n      currentNode[childrenKey].forEach(function (child) {\n        toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  }, [cascade, childrenKey]);\n  var toggleChecked = useCallback(function (node, isChecked) {\n    var nodes = _cloneDeep(flattenNodes);\n\n    toggleDownChecked(nodes, node, isChecked);\n    node.parent && toggleUpChecked(nodes, node.parent, isChecked);\n    var values = serializeListOnlyParent(nodes, 'check'); // filter uncheckableItemValues\n\n    return values.filter(function (v) {\n      return !uncheckableItemValues.includes(v);\n    });\n  }, [flattenNodes, uncheckableItemValues, serializeListOnlyParent, toggleDownChecked, toggleUpChecked]);\n  var handleSelect = useCallback(function (node, event) {\n    var currentNode = node.refKey ? flattenNodes[node.refKey] : null;\n\n    if (!node || !currentNode) {\n      return;\n    }\n\n    var selectedValues = toggleChecked(node, !currentNode.check);\n\n    if (!isControlled) {\n      unSerializeList({\n        nodes: flattenNodes,\n        key: 'check',\n        value: selectedValues,\n        cascade: cascade,\n        uncheckableItemValues: uncheckableItemValues\n      });\n      setValue(selectedValues);\n    }\n\n    setActiveNode(node);\n    setFocusItemValue(node[valueKey]);\n    onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(node, selectedValues, event);\n  }, [cascade, valueKey, flattenNodes, isControlled, uncheckableItemValues, setValue, onChange, onSelect, toggleChecked, unSerializeList]);\n\n  var hasValue = function hasValue() {\n    var selectedValues = Object.keys(flattenNodes).map(function (refKey) {\n      return flattenNodes[refKey][valueKey];\n    }).filter(function (item) {\n      return value.some(function (v) {\n        return shallowEqual(v, item);\n      });\n    });\n    return !!selectedValues.length;\n  };\n\n  var handleOpen = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$o;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$o = _triggerRef$current.open) === null || _triggerRef$current$o === void 0 ? void 0 : _triggerRef$current$o.call(_triggerRef$current);\n    setFocusItemValue(activeNode === null || activeNode === void 0 ? void 0 : activeNode[valueKey]);\n    focusActiveNode();\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setActive(true);\n  }, [activeNode, focusActiveNode, onOpen, valueKey]);\n  var handleClose = useCallback(function () {\n    var _triggerRef$current2, _triggerRef$current2$, _targetRef$current;\n\n    (_triggerRef$current2 = triggerRef.current) === null || _triggerRef$current2 === void 0 ? void 0 : (_triggerRef$current2$ = _triggerRef$current2.close) === null || _triggerRef$current2$ === void 0 ? void 0 : _triggerRef$current2$.call(_triggerRef$current2);\n    setSearchKeyword('');\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    setFocusItemValue(null);\n    setActive(false);\n    /**\n     * when using keyboard toggle picker, should refocus on PickerToggle Component after close picker menu\n     */\n\n    (_targetRef$current = targetRef.current) === null || _targetRef$current === void 0 ? void 0 : _targetRef$current.focus();\n  }, [onClose, setSearchKeyword]);\n  var handleExpand = useCallback(function (node) {\n    var nextExpandItemValues = toggleExpand({\n      node: node,\n      isExpand: !node.expand,\n      expandItemValues: expandItemValues,\n      valueKey: valueKey\n    });\n    setExpandItemValues(nextExpandItemValues);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n      valueKey: valueKey,\n      childrenKey: childrenKey\n    }));\n\n    if (_isFunction(getChildren) && !node.expand && Array.isArray(node[childrenKey]) && node[childrenKey].length === 0) {\n      loadChildren(node, getChildren);\n    }\n  }, [childrenKey, expandItemValues, getChildren, loadChildren, onExpand, setExpandItemValues, valueKey]);\n  usePublicMethods(ref, {\n    rootRef: inline ? treeViewRef : undefined,\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    listRef: listRef,\n    inline: inline\n  });\n  var handleClean = useCallback(function (event) {\n    var target = event.target; // exclude searchBar\n\n    if (target.matches('div[role=\"searchbox\"] > input')) {\n      return;\n    }\n\n    setActiveNode(null);\n    setValue([]);\n    setFocusItemValue(null);\n    unSerializeList({\n      nodes: flattenNodes,\n      key: 'check',\n      value: [],\n      cascade: cascade,\n      uncheckableItemValues: uncheckableItemValues\n    });\n    onChange === null || onChange === void 0 ? void 0 : onChange([], event);\n  }, [cascade, flattenNodes, onChange, setValue, unSerializeList, uncheckableItemValues]);\n  var handleFocusItem = useCallback(function (key) {\n    var focusableItems = getFocusableItems(filteredData, {\n      disabledItemValues: disabledItemValues,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      expandItemValues: expandItemValues\n    }, isSearching(searchKeywordState));\n    var selector = \".\" + checkTreePrefix('node-label');\n    var focusProps = {\n      focusItemValue: focusItemValue,\n      focusableItems: focusableItems,\n      treeNodesRefs: treeNodesRefs,\n      selector: selector,\n      valueKey: valueKey,\n      callback: function callback(nextFocusItemValue) {\n        setFocusItemValue(nextFocusItemValue);\n      }\n    };\n\n    if (key === KEY_VALUES.DOWN) {\n      focusNextItem(focusProps);\n      return;\n    }\n\n    if (key === KEY_VALUES.UP) {\n      focusPreviousItem(focusProps);\n    }\n  }, [searchKeywordState, checkTreePrefix, expandItemValues, filteredData, focusItemValue, treeNodesRefs, childrenKey, valueKey, disabledItemValues]);\n  var handleLeftArrow = useCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    leftArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      onExpand: handleExpand,\n      childrenKey: childrenKey,\n      onFocusItem: function onFocusItem() {\n        var _focusItem$parent, _focusItem$parent2;\n\n        setFocusItemValue(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent = focusItem.parent) === null || _focusItem$parent === void 0 ? void 0 : _focusItem$parent[valueKey]);\n        focusTreeNode(focusItem === null || focusItem === void 0 ? void 0 : (_focusItem$parent2 = focusItem.parent) === null || _focusItem$parent2 === void 0 ? void 0 : _focusItem$parent2.refKey, treeNodesRefs, \".\" + checkTreePrefix('node-label'));\n      }\n    });\n  }, [checkTreePrefix, expandItemValues, flattenNodes, focusItemValue, handleExpand, treeNodesRefs, valueKey, childrenKey]);\n  var handleRightArrow = useCallback(function () {\n    if (_isNil(focusItemValue)) return;\n    var focusItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n    rightArrowHandler({\n      focusItem: focusItem,\n      expand: expandItemValues.includes(focusItem === null || focusItem === void 0 ? void 0 : focusItem[valueKey]),\n      childrenKey: childrenKey,\n      onExpand: handleExpand,\n      onFocusItem: function onFocusItem() {\n        handleFocusItem(KEY_VALUES.DOWN);\n      }\n    });\n  }, [focusItemValue, flattenNodes, valueKey, expandItemValues, childrenKey, handleExpand, handleFocusItem]);\n  var selectActiveItem = useCallback(function (event) {\n    if (_isNil(focusItemValue)) return;\n    var activeItem = getActiveItem(focusItemValue, flattenNodes, valueKey);\n\n    if (!isNodeUncheckable(activeItem, {\n      uncheckableItemValues: uncheckableItemValues,\n      valueKey: valueKey\n    }) && activeItem !== null) {\n      handleSelect(activeItem, event);\n    }\n  }, [flattenNodes, focusItemValue, handleSelect, uncheckableItemValues, valueKey]);\n  var onPickerKeydown = useToggleKeyDownEvent({\n    toggle: !focusItemValue || !active,\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    overlayRef: overlayRef,\n    searchInputRef: searchInputRef,\n    active: active,\n    onExit: handleClean,\n    onClose: handleClose,\n    onMenuKeyDown: function onMenuKeyDown(event) {\n      _onMenuKeyDown(event, {\n        down: function down() {\n          return handleFocusItem(KEY_VALUES.DOWN);\n        },\n        up: function up() {\n          return handleFocusItem(KEY_VALUES.UP);\n        },\n        left: rtl ? handleRightArrow : handleLeftArrow,\n        right: rtl ? handleLeftArrow : handleRightArrow,\n        enter: selectActiveItem,\n        del: handleClean\n      });\n    }\n  });\n  var handleTreeKeydown = useCallback(function (event) {\n    if (!treeViewRef.current) {\n      return;\n    }\n\n    _onMenuKeyDown(event, {\n      down: function down() {\n        return handleFocusItem(KEY_VALUES.DOWN);\n      },\n      up: function up() {\n        return handleFocusItem(KEY_VALUES.UP);\n      },\n      left: rtl ? handleRightArrow : handleLeftArrow,\n      right: rtl ? handleLeftArrow : handleRightArrow,\n      enter: selectActiveItem\n    });\n  }, [handleFocusItem, handleLeftArrow, handleRightArrow, rtl, selectActiveItem]);\n\n  var renderNode = function renderNode(node, layer) {\n    var visible = node.visible,\n        refKey = node.refKey; // when searching, all nodes should be expand\n\n    var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n\n    if (!visible) {\n      return null;\n    }\n\n    var children = node[childrenKey];\n    var visibleChildren = _isUndefined(searchKeywordState) || searchKeywordState.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n\n    var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n      /**\n       * spread operator dont copy unenumerable properties\n       * so we need to copy them manually\n       */\n      parent: node.parent,\n      expand: expand\n    }), layer), {\n      hasChildren: visibleChildren\n    });\n\n    if (nodeProps.hasChildren) {\n      var _merge;\n\n      layer += 1;\n      var openClass = checkTreePrefix('open');\n      var childrenClass = merge(checkTreePrefix('node-children'), (_merge = {}, _merge[openClass] = expand && visibleChildren, _merge));\n      var nodes = children || [];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: childrenClass,\n        key: node[valueKey]\n      }, /*#__PURE__*/React.createElement(CheckTreeNode, _extends({}, nodeProps, {\n        ref: function ref(_ref) {\n          return saveTreeNodeRef(_ref, refKey);\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: checkTreePrefix('children')\n      }, nodes.map(function (child) {\n        return renderNode(child, layer);\n      }), showIndentLine && /*#__PURE__*/React.createElement(\"span\", {\n        className: checkTreePrefix('indent-line'),\n        style: getTreeNodeIndent(rtl, layer - 1, true)\n      })));\n    }\n\n    return /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n      key: node[valueKey],\n      ref: function ref(_ref2) {\n        return saveTreeNodeRef(_ref2, refKey);\n      }\n    }, nodeProps));\n  };\n\n  var renderVirtualListNode = function renderVirtualListNode(nodes) {\n    return function (_ref3) {\n      var key = _ref3.key,\n          index = _ref3.index,\n          style = _ref3.style;\n      var node = nodes[index];\n      var layer = node.layer,\n          refKey = node.refKey,\n          visible = node.visible;\n      var expand = getExpandWhenSearching(searchKeywordState, expandItemValues.includes(node[valueKey]));\n\n      var nodeProps = _extends({}, getTreeNodeProps(_extends({}, node, {\n        expand: expand\n      }), layer), {\n        hasChildren: node.hasChildren\n      });\n\n      return visible && /*#__PURE__*/React.createElement(CheckTreeNode, _extends({\n        style: style,\n        key: key,\n        ref: function ref(_ref4) {\n          return saveTreeNodeRef(_ref4, refKey);\n        }\n      }, nodeProps));\n    };\n  };\n\n  var renderCheckTree = function renderCheckTree() {\n    var _withCheckTreeClassPr, _merge2;\n\n    var classes = withCheckTreeClassPrefix((_withCheckTreeClassPr = {}, _withCheckTreeClassPr[className !== null && className !== void 0 ? className : ''] = inline, _withCheckTreeClassPr['without-children'] = !isSomeNodeHasChildren(data, childrenKey), _withCheckTreeClassPr.virtualized = virtualized, _withCheckTreeClassPr));\n    var formattedNodes = getFormattedNodes(renderNode);\n\n    if (!formattedNodes.some(function (v) {\n      return v !== null;\n    })) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('none')\n      }, locale.noResultsText);\n    }\n\n    var treeNodesClass = merge(checkTreePrefix('nodes'), (_merge2 = {}, _merge2[checkTreePrefix('all-uncheckable')] = isEveryFirstLevelNodeUncheckable(flattenNodes, uncheckableItemValues, valueKey), _merge2));\n    var styles = inline ? _extends({\n      height: height\n    }, style) : {};\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id ? id + \"-listbox\" : undefined,\n      ref: treeViewRef,\n      role: \"tree\",\n      \"aria-multiselectable\": true,\n      className: classes,\n      style: styles,\n      onScroll: onScroll,\n      onKeyDown: inline ? handleTreeKeydown : undefined\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: treeNodesClass\n    }, virtualized ? /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: inline ? height : maxTreeHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref5) {\n      var height = _ref5.height,\n          width = _ref5.width;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: listRef,\n        width: width,\n        height: height,\n        rowHeight: 36,\n        rowCount: formattedNodes.length,\n        rowRenderer: renderVirtualListNode(formattedNodes),\n        scrollToAlignment: \"center\"\n      }, listProps));\n    }) : formattedNodes));\n  };\n\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = classNames(className, menuClassName, prefix('check-tree-menu'));\n\n    var mergedMenuStyle = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var styles = virtualized ? _extends({\n      height: height\n    }, mergedMenuStyle) : _extends({}, mergedMenuStyle);\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: styles,\n      ref: mergeRefs(overlayRef, speakerRef),\n      onKeyDown: onPickerKeydown,\n      target: triggerRef\n    }, searchable ? /*#__PURE__*/React.createElement(SearchBar, {\n      placeholder: locale.searchPlaceholder,\n      onChange: handleSearch,\n      value: searchKeywordState,\n      inputRef: searchInputRef\n    }) : null, renderMenu ? renderMenu(renderCheckTree()) : renderCheckTree(), renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n  /**\n   * 1.Have a value and the value is valid.\n   * 2.Regardless of whether the value is valid, as long as renderValue is set, it is judged to have a value.\n   */\n\n\n  var hasValidValue = hasValue() || value.length > 0 && _isFunction(renderValue);\n\n  var selectedElement = placeholder;\n  var selectedItems = getSelectedItems(flattenNodes, value, valueKey);\n\n  if (hasValidValue) {\n    selectedElement = /*#__PURE__*/React.createElement(SelectedElement, {\n      selectedItems: selectedItems,\n      countable: countable,\n      valueKey: valueKey,\n      labelKey: labelKey,\n      childrenKey: childrenKey,\n      prefix: prefix,\n      cascade: cascade,\n      locale: locale\n    });\n\n    if (_isFunction(renderValue)) {\n      selectedElement = renderValue(value, selectedItems, selectedElement);\n\n      if (_isNil(selectedElement)) {\n        hasValidValue = false;\n      }\n    }\n  }\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    classPrefix: classPrefix,\n    appearance: appearance,\n    countable: countable,\n    cleanable: cleanable,\n    disabled: disabled,\n    hasValue: hasValidValue,\n    name: 'check-tree'\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  if (inline) {\n    return renderCheckTree();\n  }\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: _pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: handleOpen,\n    onEntered: onEntered,\n    onExited: createChainedFunction(handleClose, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, _omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys)), {\n    id: id,\n    ref: targetRef,\n    appearance: appearance,\n    onKeyDown: onPickerKeydown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    disabled: disabled,\n    as: toggleAs,\n    hasValue: hasValidValue,\n    active: active,\n    placement: placement,\n    inputValue: value\n  }), selectedElement || locale.placeholder)));\n});\nCheckTreePicker.displayName = 'CheckTreePicker';\nCheckTreePicker.propTypes = _extends({}, listPickerPropTypes, {\n  height: PropTypes.number,\n  appearance: PropTypes.oneOf(['default', 'subtle']),\n  locale: PropTypes.any,\n  cascade: PropTypes.bool,\n  countable: PropTypes.bool,\n  searchable: PropTypes.bool,\n  virtualized: PropTypes.bool,\n  searchKeyword: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  onSearch: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  searchBy: PropTypes.func,\n  onScroll: PropTypes.func\n});\nexport default CheckTreePicker;"],"mappings":"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"},"metadata":{},"sourceType":"module"}